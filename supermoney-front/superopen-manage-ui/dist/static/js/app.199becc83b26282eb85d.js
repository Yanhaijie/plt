webpackJsonp([1],{"+xRI":function(e,t){},"2aQx":function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.9d97631.png"},A1tS:function(e,t,a){e.exports=a.p+"static/img/1.0b21a41.png"},MLKb:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},o=a("VU/8")({name:"app",meta:{title:"SuperP2p"}},r,!1,function(e){a("d22g")},null,null).exports,s=a("/ocq"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Core Docs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("Forum")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("Community Chat")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("Twitter")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("Docs for This Template")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("vue-router")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("vuex")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("vue-loader")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("awesome-vue")])])])}]},i=(a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},n,!1,function(e){a("MLKb")},"data-v-0432ab66",null).exports,a("//Fk")),c=a.n(i),u=a("fZjL"),d=a.n(u),m=a("mtWM"),p=a.n(m),f=p.a.create({timeout:2e4});f.uploadFile=function(e,t,a){e=e+"?access_token="+sessionStorage.access_token;console.log("Axios.uploadFile-1:",e),p.a.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log("Axios.uploadFile:",e),a(e.data)}).catch(function(e){console.log("Axios.uploadFile-err:",e)})},f.interceptors.request.use(function(e){console.log("Axios");var t=sessionStorage.access_token,l=sessionStorage.appSecret;if(e.url.indexOf("access_token=")<0&&t&&(e.url=e.url.indexOf("?")>-1?e.url+"&&access_token="+t+"&appSecret="+l:e.url+"?access_token="+t+"&appSecret="+l),"post"==e.method){var r=a("mw3O"),o={};d()(e.data).forEach(function(t){return o[t]=e.data[t]}),e.data=r.stringify(o)}return e},function(e){return c.a.reject(e)}),f.interceptors.response.use(function(e){return 401!=e.data.code&&402!=e.data.code&&403!=e.data.code||(window.location="/login"),e},function(e){return c.a.reject(e)}),f.install=function(e){e.prototype.$http=f};var v=f,h="http://www.loansface.com",b={"Content-Type":"application/x-www-form-urlencoded"},g=function(e){return v.uploadFile("http://www.loansface.com/p2p/s/upload/file",e.formData,e.callback)},_=function(e){return v.post(h+"/p2p/s/user/list",e,{headers:b}).then(function(e){return e.data})},y=function(e){return v.post(h+"/p2p/s/user/add",e,{headers:b}).then(function(e){return e.data})},C=function(e){return v.post(h+"/p2p/s/user/update",e,{headers:b}).then(function(e){return e.data})},k=function(e){return v.post(h+"/p2p/s/user/delete",e,{headers:b}).then(function(e){return e.data})},w=function(e){return v.post(h+"/p2p/s/user/staff-list",e,{headers:b}).then(function(e){return e.data})},x=function(e){return v.post(h+"/p2p/s/user/staff-add",e,{headers:b}).then(function(e){return e.data})},S=function(e){return v.post(h+"/p2p/s/user/staff-update",e,{headers:b}).then(function(e){return e.data})},N=function(e){return v.post(h+"/p2p/s/role/company-role",e,{headers:b}).then(function(e){return e.data})},I=function(e){return h+"/p2p/s/found/company/exportFoundCompany?access_token="+sessionStorage.access_token+"&appSecret="+sessionStorage.appSecret},z=function(e){return v.post(h+"/p2p/s/company/saveCompany",e,{headers:b}).then(function(e){return e.data})},D={name:"Login",meta:{title:"Super-P2P"},data:function(){return{msg:"Super-P2P",loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;t.$refs[e].validate(function(e){if(e){(function(e){return v.post(h+"/p2p/ut/login",e,{headers:b}).then(function(e){return e.data})})({username:t.loginForm.username,password:t.loginForm.password}).then(function(e){200==e.code?(e=e.data,console.log(e),e.access_token&&(sessionStorage.setItem("access_token",e.access_token),sessionStorage.setItem("appSecret",e.appSecret),sessionStorage.setItem("userType",e.userType),sessionStorage.setItem("realName",e.realName),sessionStorage.setItem("sex",e.sex),t.GLOBAL.tokenSession=e,t.$store.state.userinfo.username=t.loginForm.username,t.$store.state.userinfo.tokeninfo=e,t.$router.push("/home"))):t.err(e)})}})},err:function(e){this.$message.error(e)},inside:function(e){var t=this;(void 0)("appcode="+e.appcode).then(function(e){console.log("get-user-info:",e),t.$store.state.userinfo.menu=e.data.menus,console.log("session:",t.$store),t.$router.push("/home")})}}},F={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"container",staticStyle:{width:"400px",margin:"0 auto"}},[l("img",{staticStyle:{width:"180px",margin:"100px 0 0 80px"},attrs:{src:a("7Otq")}}),e._v(" "),l("h1",{staticStyle:{color:"#f1c232","text-align":"center",margin:"0 0 10px 80px"}},[e._v(e._s(e.msg))]),e._v(" "),l("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"账号",prop:"username"}},[l("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"密码",prop:"password"}},[l("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSubmit("loginForm")}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),l("el-form-item",[l("el-button",{on:{click:function(t){e.onSubmit("loginForm")}}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]},$=a("VU/8")(D,F,!1,null,null,null).exports,T=a("NYxO");l.default.use(T.a);var P=new T.a.Store({state:{currentMenu:""},mutations:{setCurrentMenu:function(e,t){e.currentMenu=t.currentMenu}}}),A={name:"Sidebar",components:{},data:function(){return{msg:"Welcome to Your Vue.js App",items:[],defaultProps:{children:"children",label:"rightName"}}},props:["bear"],beforeMount:function(){console.log("beforeMount")},mounted:function(){var e=this;(function(e){return v.post(h+"/p2p/ut/menu",e,{headers:b}).then(function(e){return e.data})})({}).then(function(t){console.log("get-menu-info:",t),e.$store.state.userinfo.menu=t.data,e.items=e.menuToItems(t.data)})},computed:{onRoutes:function(){return console.log(this.$route.path),this.$route.path}},methods:{itemNodeClick:function(e){console.log(e),e.parentId&&e.parentId>0&&e.rightUrl&&""!=e.rightUrl&&(this.$router.push("/home"+e.rightUrl),P.state.currentMenu=e.rightName,console.log("store.menu",P.state.currentMenu))},itemLoad:function(e,t){console.log("itemLoad:",e)},rederNode:function(e,t){var a=t.node;t.data,t.store;return(0,this.$createElement)("span",null,[a.label])},open:function(e,t){console.log("open:",t)},isNull:function(e){return void 0===e||null==e||""==e},menuToItems:function(e){console.log("h2",e);if(this.isNull(e))return[];for(var t=function t(a,l){for(var r=[],o=0;o<l.length;o++){if(e[o].parentId==a){var s=e[o];s.children=t(e[o].id,e),r.push(s)}}return r},a=[],l=0;l<e.length;l++){var r=e[l].parentId;if(this.isNull(r)){console.log("pid",e[l]);var o=e[l];o.children=t(e[l].id,e),a.push(o)}}return console.log("items:",a),a}}},j={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"siderbar"},[t("h5",[this._v(this._s(this.bear))]),this._v(" "),t("el-tree",{attrs:{id:"menu",data:this.items,props:this.defaultProps,"render-content":this.rederNode,load:this.itemLoad},on:{"node-click":this.itemNodeClick}})],1)},staticRenderFns:[]},L={name:"Header",data:function(){return{msg:"welcome to superP2p manage!",realName:"Jhoncena",picUrl:"",boy:a("chPc"),gril:a("A1tS")}},computed:{showInfo:function(){}},mounted:function(){console.log("sex:",sessionStorage.sex),this.picUrl="1"==sessionStorage.sex?this.gril:this.boy,this.realName=sessionStorage.realName},methods:{}},W={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"right-tip"},[t("img",{staticClass:"pic",attrs:{src:this.picUrl}}),this._v(" "),t("span",{staticClass:"label"},[this._v(this._s(this.realName)+" ")])])])},staticRenderFns:[]},V={name:"Home",components:{"cm-Siderbar":a("VU/8")(A,j,!1,function(e){a("iMbc")},null,null).exports,"cm-Header":a("VU/8")(L,W,!1,function(e){a("yc1k")},null,null).exports},data:function(){return{msg:"Welcome to SuperP2p App",logo:a("e8dt")}},methods:{toLogin:function(){console.log("quit"),this.$router.push("/")}}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"homewarp"},[t("el-container",[t("el-header",[t("div",{staticClass:"logo"},[t("img",{staticStyle:{width:"90%"},attrs:{src:this.logo}})]),this._v(" "),t("cm-Header")],1),this._v(" "),t("el-container",[t("el-aside",{attrs:{width:"220px"}},[t("cm-Siderbar"),this._v(" "),t("div",{staticClass:"btip"},[t("i",{staticClass:"el-icon-back",on:{click:this.toLogin}}),this._v(" "),t("el-tooltip",{attrs:{content:"Email:superp2p@superads.com",placement:"top",effect:"light"}},[t("i",{staticClass:"el-icon-message"})]),this._v(" "),t("el-tooltip",{attrs:{content:"superP2P best p2p! 2018-05-16",placement:"top",effect:"light"}},[t("i",{staticClass:"el-icon-question"})])],1)],1),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)],1)},staticRenderFns:[]},R=a("VU/8")(V,U,!1,function(e){a("2aQx")},"data-v-a3095b56",null).exports,E=a("mvHQ"),M=a.n(E),O=a("PJh5"),q=a.n(O),B=function(e){return q()(e)},H={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{id:"",companyType:"",cType:[{value:"",label:"全部"},{value:"0",label:"资产方"},{value:"1",label:"资金方"}],auditStatus:"",aStatus:[{value:"",label:"全部"},{value:"0",label:"待资质认证"},{value:"1",label:"待审核资质"},{value:"2",label:"完成资质认证"}],fullName:"",abbreviationName:"",startDate:"",endDate:""},audit:{status:"",id:""},cardItemName:"baseInfo",baseCompanyInfo:{},detailCompanyInfo:{},foundCheck:[{code:"11",itemName:"融资租赁",checked:!1},{code:"12",itemName:"车抵贷",checked:!1},{code:"13",itemName:"房抵贷",checked:!1},{code:"14",itemName:"信用贷",checked:!1},{code:"15",itemName:"供应链金融",checked:!1},{code:"16",itemName:"其他",checked:!1},{code:"10",itemName:"消费分期",checked:!1},{code:"1001",itemName:"3C消费",checked:!1},{code:"1002",itemName:"个人日常消费",checked:!1},{code:"1003",itemName:"装修",checked:!1},{code:"1004",itemName:"旅游",checked:!1},{code:"1005",itemName:"教育",checked:!1},{code:"1006",itemName:"医疗",checked:!1},{code:"1007",itemName:"其他",checked:!1}],multipleSelection:[],dialoCompanyFormVisible:!1,dialogAuditFormVisible:!1,dialogWidth:"700px",dialogAuditWidth:"400px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({id:e.id,companyType:e.companyType,auditStatus:e.auditStatus,fullName:e.fullName,abbreviationName:e.abbreviationName,startTime:e.startTime,endtime:e.endTime})),function(e){return v.post(h+"/p2p/s/company/list",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",name:"",img:"",useStatus:"0"},this.dialoCompanyFormVisible=!1},close:function(){this.restForm()},close1:function(){this.dialoCompanyFormVisible=!1},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleDetail:function(e,t){var a=this;a.baseCompanyInfo=t,a.cardItemName="baseInfo";(function(e){return v.post(h+"/p2p/s/company/detail",e,{headers:b}).then(function(e){return e.data})})({id:t.id,companyType:t.companyType}).then(function(e){var l=e.data;a.detailCompanyInfo=l,t.companyType,a.showDefault(a.detailCompanyInfo.assetInfo),a.dialoCompanyFormVisible=!0})},handleAudit:function(e,t){this.audit.id=t.id,this.dialogAuditFormVisible=!0},showDefault:function(e){if(null!=e&&e.length>0){for(var t="",a=this.foundCheck,l=e.split(","),r=0;r<a.length;r++)for(var o=a[r],s=0;s<l.length;s++){var n=l[s];o.code==n&&(0==t.length?t+=o.itemName:t+="，"+o.itemName)}this.detailCompanyInfo.assetInfo=t}},toAudit:function(){var e=this,t=this;(function(e){return v.post(h+"/p2p/s/company/audit",e,{headers:b}).then(function(e){return e.data})})({id:t.audit.id,status:t.audit.status}).then(function(a){"200"==a.code?(e.$message({type:"success",message:"审核成功!"}),t.dialogAuditFormVisible=!1,t.reload()):e.$message.error(a.message)})},export:function(e){var t={search:""};null!=e&&(t.search=M()({id:e.id,companyType:e.companyType,auditStatus:e.auditStatus,fullName:e.fullName,abbreviationName:e.abbreviationName,startTime:e.startTime,endtime:e.endTime}));var a=document.createElement("form");a.name="form",document.body.appendChild(a);for(var l in t)if(t.hasOwnProperty(l)){var r=document.createElement("input");r.tpye="hidden",r.name=l,r.value=t[l],a.appendChild(r)}a.method="post",a.action=h+"/p2p/s/company/exportCompany?access_token="+sessionStorage.access_token+"&appSecret="+sessionStorage.appSecret,a.submit(),document.body.removeChild(a)},handleExport:function(){this.export(this.criteria)},getFile:function(e,t){var a=e.target.files[0];void 0!=a&&this.uploadFile(a,t)},uploadFile:function(e,t){event.preventDefault();var a=this,l=new FormData;l.append("file",e),l.append("type",t),function(e){v.uploadFile(h+"/p2p/s/company/uploadCompanyExcel",e.formData,e.callback)}({formData:l,callback:function(e){alert(e.message),a.reload()}})}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"searchbar"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入企业编号","prefix-icon":"el-icon-search"},model:{value:e.criteria.id,callback:function(t){e.$set(e.criteria,"id",t)},expression:"criteria.id"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"公司类别"},model:{value:e.criteria.companyType,callback:function(t){e.$set(e.criteria,"companyType",t)},expression:"criteria.companyType"}},e._l(e.criteria.cType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"账号状态"},model:{value:e.criteria.auditStatus,callback:function(t){e.$set(e.criteria,"auditStatus",t)},expression:"criteria.auditStatus"}},e._l(e.criteria.aStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("审核资质")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("span",{staticClass:"fileinput-button el-button el-button--primary el-button--small"},[a("span",[e._v("导入公司信息认证")]),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"1")}}})]),e._v(" "),a("span",{staticClass:"fileinput-button el-button el-button--primary el-button--small"},[a("span",[e._v("导入资产公司信息")]),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"2")}}})]),e._v(" "),a("span",{staticClass:"fileinput-button el-button el-button--primary el-button--small"},[a("span",[e._v("导入资金公司信息")]),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"3")}}})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.fullName,callback:function(t){e.$set(e.criteria,"fullName",t)},expression:"criteria.fullName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司简称","prefix-icon":"el-icon-search"},model:{value:e.criteria.abbreviationName,callback:function(t){e.$set(e.criteria,"abbreviationName",t)},expression:"criteria.abbreviationName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"开始日期"},model:{value:e.criteria.startDate,callback:function(t){e.$set(e.criteria,"startDate",t)},expression:"criteria.startDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"结束日期"},model:{value:e.criteria.endDate,callback:function(t){e.$set(e.criteria,"endDate",t)},expression:"criteria.endDate"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"公司ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"abbreviationName",label:"简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fullName",label:"全称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyType",label:"账号类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.companyType?a("span",[e._v("资产方")]):e._e(),e._v(" "),1==t.row.companyType?a("span",[e._v("资金方")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"auditStatus",label:"账号状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.auditStatus?a("span",[e._v("待资质认证")]):e._e(),e._v(" "),1==t.row.auditStatus?a("span",[e._v("待审核资质")]):e._e(),e._v(" "),2==t.row.auditStatus?a("span",[e._v("完成资质认证")]):e._e(),e._v(" "),3==t.row.auditStatus?a("span",[e._v("审核不通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleDetail(t.$index,t.row)}}},[e._v("查看")]),e._v(" "),1==t.row.auditStatus?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleAudit(t.$index,t.row)}}},[e._v("审核")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{staticClass:"demo-ruleForm",attrs:{title:"查看合作伙伴",visible:e.dialoCompanyFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialoCompanyFormVisible=t}}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.cardItemName,callback:function(t){e.cardItemName=t},expression:"cardItemName"}},[a("el-tab-pane",{attrs:{name:"baseInfo",label:"基础信息"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("公司ID：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.id))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("公司名称：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.fullName))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("公司简称：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.abbreviationName))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("公司介绍：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.dsc))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"联系人信息"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("联系人：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.linkMan))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("电话：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.mobile))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("邮箱：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.email))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("通信地址：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.address))])])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"资质信息"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("法人身份证：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.idNumber))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}}),e._v(" "),a("el-col",{attrs:{span:18}},[a("img",{attrs:{src:e.baseCompanyInfo.idCardFirstUrl,width:"20%",alt:"front"}}),e._v(" "),a("img",{attrs:{src:e.baseCompanyInfo.idCardSecondUrl,width:"20%",alt:"front"}})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("社会信用代码证：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.unifyCreditNum))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}}),e._v(" "),a("el-col",{attrs:{span:18}},[a("img",{attrs:{src:e.baseCompanyInfo.unifyCreditUrl,width:"20%",alt:"front"}})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("银行开户许可证：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.openingBankNum))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}}),e._v(" "),a("el-col",{attrs:{span:18}},[a("img",{attrs:{src:e.baseCompanyInfo.openingBankUrl,width:"20%",alt:"front"}})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("银行信用证：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.baseCompanyInfo.bankCreditNum))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}}),e._v(" "),a("el-col",{attrs:{span:18}},[a("img",{attrs:{src:e.baseCompanyInfo.bankCreditUrl,width:"20%",alt:"front"}})])],1)],1),e._v(" "),1==e.baseCompanyInfo.companyType?a("el-tab-pane",{attrs:{label:"资金信息"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("接受资产类型:")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.assetInfo))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("预测资产需求量：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.forecastAssetDemand))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("对资产的要求：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.foundCondition))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("资金年化利率范围：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.foundYearRateRand))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("资金成本：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.foundCost))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("月平均资金成交利率：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.monthTransactionRate))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("募集失败率：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.collectFailRate))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("公司业务区域：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.businessArea))])])],1)],1):e._e(),e._v(" "),0==e.baseCompanyInfo.companyType?a("el-tab-pane",{attrs:{label:"资产信息"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("可以提供资产类型:")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.assetInfo))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("资产规模：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.assetSize))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("月新增规模：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.monthSize))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("单笔资产期限：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.everyDeadline))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("单笔资产额度：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.everySum))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("逾期情况：")])]),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{attrs:{align:"left"}},[e._v("M0:")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.overdueM0))])]),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{attrs:{align:"left"}},[e._v("M1:")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.overdueM1))])]),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{attrs:{align:"left"}},[e._v("M2:")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.overdueM2))])]),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{attrs:{align:"left"}},[e._v("M3:")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.overdueM3))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("可接受资金成本：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.acceptFound))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("公司业务区域：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",{attrs:{align:"left"}},[e._v(e._s(e.detailCompanyInfo.businessArea))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("是否有履行约：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[0==e.detailCompanyInfo.isPerformanceInsurance?a("div",{attrs:{align:"left"}},[e._v("否")]):e._e(),e._v(" "),1==e.detailCompanyInfo.isPerformanceInsurance?a("div",{attrs:{align:"left"}},[e._v("是")]):e._e()])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{attrs:{align:"left"}},[e._v("是否有担保人：")])]),e._v(" "),a("el-col",{attrs:{span:18}},[0==e.detailCompanyInfo.isGuarantee?a("div",{attrs:{align:"left"}},[e._v("否")]):e._e(),e._v(" "),1==e.detailCompanyInfo.isGuarantee?a("div",{attrs:{align:"left"}},[e._v("是")]):e._e()])],1)],1):e._e()],1)],1),e._v(" "),a("el-dialog",{staticClass:"demo-ruleForm",attrs:{title:"审核",visible:e.dialogAuditFormVisible,"before-close":e.close1,width:e.dialogAuditWidth},on:{"update:visible":function(t){e.dialogAuditFormVisible=t}}},[a("el-form",{ref:"audit",attrs:{model:e.audit,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"审核结果",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.audit.status,callback:function(t){e.$set(e.audit,"status",t)},expression:"audit.status"}},[a("el-option",{attrs:{label:"审核通过",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"审核不通过",value:"3"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.close()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.toAudit()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},X=a("VU/8")(H,Y,!1,function(e){a("kEko")},null,null).exports,K={name:"companyaudit",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,form:{},formBase:{id:"",fullName:"",abbreviationName:"",dsc:""},formLink:{id:"",linkMan:"",mobile:"",email:"",address:""},formCredit:{id:"",idNumber:"",idCardFirstUrl:"",idCardSecondUrl:"",unifyCreditUrl:"",openingBankUrl:"",bankCreditUrl:"",unifyCreditNum:"",openingBankNum:"",bankCreditNum:""},multipleSelection:[],dialogFormVisible:!1,dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){var l=this;(function(e){return v.post(h+"/p2p/s/company/getCompany",e,{headers:b}).then(function(e){return e.data})})({}).then(function(e){l.form=e})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},saveBaseInfo:function(){this.formBase.id=this.form.id,this.formBase.fullName=this.form.fullName,this.formBase.abbreviationName=this.form.abbreviationName,this.formBase.dsc=this.form.dsc;var e=this.formBase;z(e).then(function(e){"200"!=e.code?alert("操作失败！"):alert("操作成功！")})},saveLinkInfo:function(){this.formLink.id=this.form.id,this.formLink.linkMan=this.form.linkMan,this.formLink.mobile=this.form.mobile,this.formLink.email=this.form.email,this.formLink.address=this.form.address;var e=this.formLink;z(e).then(function(e){"200"!=e.code?alert("操作失败！"):alert("操作成功！")})},saveAuditInfo:function(){this.formCredit.id=this.form.id,this.formCredit.idNumber=this.form.idNumber,this.formCredit.idCardFirstUrl=this.form.idCardFirstUrl,this.formCredit.idCardSecondUrl=this.form.idCardSecondUrl,this.formCredit.unifyCreditUrl=this.form.unifyCreditUrl,this.formCredit.openingBankUrl=this.form.openingBankUrl,this.formCredit.bankCreditUrl=this.form.bankCreditUrl,this.formCredit.unifyCreditNum=this.form.unifyCreditNum,this.formCredit.openingBankNum=this.form.openingBankNum,this.formCredit.bankCreditNum=this.form.bankCreditNum;var e=this.formCredit;z(e).then(function(e){"200"!=e.code?alert("操作失败！"):alert("操作成功！")})},getFile:function(e,t){var a=e.target.files[0];void 0!=a&&this.uploadFile(a,t)},uploadFile:function(e,t){event.preventDefault();var a=this,l=new FormData;l.append("file",e),g({formData:l,callback:function(e){console.log("uploadFile",e),"200"==e.code?(alert(e.data.url),a.form[t]=e.data.url):alert(e.message)}})}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("h2",[e._v("公司信息认证        "),a("span",{staticStyle:{color:"red"}},[e._v("审核状态：")]),e._v(" "),0==e.form.auditStatus?a("span",{staticStyle:{color:"red"}},[e._v("待资质认证")]):e._e(),e._v(" "),1==e.form.auditStatus?a("span",{staticStyle:{color:"red"}},[e._v("待审核资质")]):e._e(),e._v(" "),2==e.form.auditStatus?a("span",{staticStyle:{color:"red"}},[e._v("完成资质认证")]):e._e(),e._v(" "),3==e.form.auditStatus?a("span",{staticStyle:{color:"red"}},[e._v("资质认证失败")]):e._e()]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("h5",[e._v("公司基础信息   "),a("el-button",{staticClass:"ed",attrs:{icon:"el-icon-edit",circle:""},on:{click:e.saveBaseInfo}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.form.fullName,callback:function(t){e.$set(e.form,"fullName",t)},expression:"form.fullName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简称"}},[a("el-input",{model:{value:e.form.abbreviationName,callback:function(t){e.$set(e.form,"abbreviationName",t)},expression:"form.abbreviationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司介绍"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.dsc,expression:"form.dsc"}],staticStyle:{width:"98%",height:"50px"},attrs:{placeholder:"0～100字符"},domProps:{value:e.form.dsc},on:{input:function(t){t.target.composing||e.$set(e.form,"dsc",t.target.value)}}})])],1)],1),e._v(" "),a("h5",[e._v("企业联系人信息   "),a("el-button",{staticClass:"ed",attrs:{icon:"el-icon-edit",circle:""},on:{click:e.saveLinkInfo}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{model:{value:e.form.linkMan,callback:function(t){e.$set(e.form,"linkMan",t)},expression:"form.linkMan"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通信地址"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1),e._v(" "),a("h5",[e._v("企业资质信息   "),a("el-button",{staticClass:"ed",attrs:{icon:"el-icon-edit",circle:""},on:{click:e.saveAuditInfo}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业法人身份证","label-width":"120px"}},[a("el-input",{model:{value:e.form.idNumber,callback:function(t){e.$set(e.form,"idNumber",t)},expression:"form.idNumber"}}),e._v(" "),a("div",{staticClass:"imgbox"},[a("img",{staticClass:"img",attrs:{src:e.form.idCardFirstUrl}}),e._v(" "),a("img",{staticClass:"img",attrs:{src:e.form.idCardSecondUrl}})]),e._v(" "),a("div",{staticClass:"filenox"},[a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"idCardFirstUrl")}}}),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"idCardSecondUrl")}}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"社会信用代码证","label-width":"120px"}},[a("el-input",{model:{value:e.form.unifyCreditNum,callback:function(t){e.$set(e.form,"unifyCreditNum",t)},expression:"form.unifyCreditNum"}}),e._v(" "),a("div",{staticClass:"imgbox"},[a("img",{staticClass:"img",attrs:{src:e.form.unifyCreditUrl}})]),e._v(" "),a("div",{staticClass:"filenox"},[a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"unifyCreditUrl")}}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"银行开户许可证","label-width":"120px"}},[a("el-input",{model:{value:e.form.openingBankNum,callback:function(t){e.$set(e.form,"openingBankNum",t)},expression:"form.openingBankNum"}}),e._v(" "),a("div",{staticClass:"imgbox"},[a("img",{staticClass:"img",attrs:{src:e.form.openingBankUrl}})]),e._v(" "),a("div",{staticClass:"filenox"},[a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"openingBankUrl")}}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"银行信用证","label-width":"120px"}},[a("el-input",{model:{value:e.form.bankCreditNum,callback:function(t){e.$set(e.form,"bankCreditNum",t)},expression:"form.bankCreditNum"}}),e._v(" "),a("div",{staticClass:"imgbox"},[a("img",{staticClass:"img",attrs:{src:e.form.bankCreditUrl}})]),e._v(" "),a("div",{staticClass:"filenox"},[a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,"bankCreditUrl")}}})])],1)],1)],1)],1)],1)},staticRenderFns:[]},J=a("VU/8")(K,G,!1,function(e){a("Y4ti")},"data-v-f5e74498",null).exports,Q={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,companyFullName:"",companyNo:"",assetTypeCheck:[{code:"11",itemName:"融资租赁",checked:!1},{code:"12",itemName:"车抵贷",checked:!1},{code:"13",itemName:"房抵贷",checked:!1},{code:"14",itemName:"信用贷",checked:!1},{code:"15",itemName:"供应链金融",checked:!1},{code:"16",itemName:"其他",checked:!1},{code:"10",itemName:"消费分期",checked:!1}],subAssetCheck:[{code:"1001",itemName:"3C消费",checked:!1},{code:"1002",itemName:"个人日常消费",checked:!1},{code:"1003",itemName:"装修",checked:!1},{code:"1004",itemName:"旅游",checked:!1},{code:"1005",itemName:"教育",checked:!1},{code:"1006",itemName:"医疗",checked:!1},{code:"1007",itemName:"其他",checked:!1}],form:{id:"",assetInfo:"",assetSize:"",monthSize:"",everyDeadline:"",everySum:"",overdueM0:"",overdueM1:"",overdueM2:"",overdueM3:"",acceptFound:"",businessArea:"",isGuarantee:"",isPerformanceInsurance:""},multipleSelection:[],dialogFormVisible:!1,dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;(function(e){return v.post(h+"/p2p/s/asset/company/getAssetCompany",e,{headers:b}).then(function(e){return e.data})})({}).then(function(t){if(console.log("result",t),null==t)return!1;if(e.companyFullName=t.fullName,e.companyNo=t.companyNo,e.form=t,e.form.assetInfo.length>0){null!=e.form.assetInfo.match("10")&&(e.assetTypeCheck=e.assetTypeCheck.concat(e.subAssetCheck));for(var a=e.assetTypeCheck,l=e.form.assetInfo.split(","),r=0;r<a.length;r++)for(var o=a[r],s=0;s<l.length;s++){var n=l[s];o.code==n&&(o.checked=!0)}}})},handleAssetTypeCheckChange:function(e){for(var t=this.subAssetCheck,a=0;a<this.assetTypeCheck.length;a++){var l=this.assetTypeCheck[a];if(l.code==e){if("10"==e)if(1==l.checked)this.assetTypeCheck=this.assetTypeCheck.concat(t);else{this.assetTypeCheck.splice(7,7);for(var r=0;r<this.subAssetCheck.length;r++){this.subAssetCheck[r].checked=!1}}break}}},restForm:function(){this.form={id:"",name:"",img:"",useStatus:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},saveAssetCompany:function(){for(var e="",t=0;t<this.assetTypeCheck.length;t++){var a=this.assetTypeCheck[t];1==a.checked&&(0==e.length?e+=a.code:e+=","+a.code)}this.form.assetInfo=e;(function(e){return v.post(h+"/p2p/s/asset/company/saveAssetCompany",e,{headers:b}).then(function(e){return e.data})})(this.form).then(function(e){"200"!=e.code?alert("操作失败！"):alert(e.message)})}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("h2",[e._v("资产公司信息概况            "),a("span",[a("el-button",{attrs:{span:2,type:"primary"},on:{click:e.saveAssetCompany}},[e._v("保存")])],1)]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"200px"}},[a("h5",[e._v(" 公司ID："),a("span",[e._v(e._s(e.companyNo))]),e._v("               公司名称:"),a("span",[e._v(e._s(e.companyFullName))])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{label:"可以提供资产类型："}},e._l(e.assetTypeCheck,function(t){return a("el-checkbox",{key:t.code,attrs:{label:t.itemName},on:{change:function(a){e.handleAssetTypeCheckChange(t.code)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"check.checked"}})}))],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资产规模"}},[a("el-input",{model:{value:e.form.assetSize,callback:function(t){e.$set(e.form,"assetSize",t)},expression:"form.assetSize"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"月新增规模"}},[a("el-input",{model:{value:e.form.monthSize,callback:function(t){e.$set(e.form,"monthSize",t)},expression:"form.monthSize"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单笔资产期限"}},[a("el-input",{model:{value:e.form.everyDeadline,callback:function(t){e.$set(e.form,"everyDeadline",t)},expression:"form.everyDeadline"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单笔资产额度"}},[a("el-input",{model:{value:e.form.everySum,callback:function(t){e.$set(e.form,"everySum",t)},expression:"form.everySum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:4}},[a("el-form-item",{attrs:{label:"逾期情况"}},[a("el-col",{attrs:{span:2}},[e._v("\n            M0： "),a("el-input",{model:{value:e.form.overdueM0,callback:function(t){e.$set(e.form,"overdueM0",t)},expression:"form.overdueM0"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("\n            M1： "),a("el-input",{model:{value:e.form.overdueM1,callback:function(t){e.$set(e.form,"overdueM1",t)},expression:"form.overdueM1"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("\n            M2："),a("el-input",{model:{value:e.form.overdueM2,callback:function(t){e.$set(e.form,"overdueM2",t)},expression:"form.overdueM2"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("\n            M3："),a("el-input",{model:{value:e.form.overdueM3,callback:function(t){e.$set(e.form,"overdueM3",t)},expression:"form.overdueM3"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"可接受资金成本"}},[a("el-input",{model:{value:e.form.acceptFound,callback:function(t){e.$set(e.form,"acceptFound",t)},expression:"form.acceptFound"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"公司业务区域"}},[a("el-input",{model:{value:e.form.businessArea,callback:function(t){e.$set(e.form,"businessArea",t)},expression:"form.businessArea"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否有履行约"}},[a("el-radio-group",{model:{value:e.form.isPerformanceInsurance,callback:function(t){e.$set(e.form,"isPerformanceInsurance",t)},expression:"form.isPerformanceInsurance"}},[[a("el-radio",{attrs:{label:0}},[e._v("无")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("有")])]],2)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否有担保人"}},[a("el-radio-group",{model:{value:e.form.isGuarantee,callback:function(t){e.$set(e.form,"isGuarantee",t)},expression:"form.isGuarantee"}},[[a("el-radio",{attrs:{label:0}},[e._v("无")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("有")])]],2)],1)],1)],1)],1)],1)},staticRenderFns:[]},ee=a("VU/8")(Q,Z,!1,function(e){a("TwAi")},"data-v-b0397dc6",null).exports,te=function(e,t,a){if(null==t||""==t||void 0==t)return a(new Error("不能为空"));return t+="",0==/^\d{1,10}\.?\d{0,2}$/.test(t)?a(new Error("请输入整数或小数（最多保留两位）")):a()},ae=function(e,t,a){if(null==t||""==t||void 0==t);else{if(t+="",0==/^\d{0,11}$/.test(t))return a(new Error("请输入整数"))}return a()},le=function(e,t,a){if(null==t||""==t||void 0==t);else{if(t+="",0==/^\d{1,3}%~\d{1,3}%$/.test(t))return a(new Error("请输入百分比范围如：12%~18%"))}return a()},re=function(e,t,a){if(null==t||""==t||void 0==t)return a(new Error("不能为空"));return t+="",0==/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)?a(new Error("请输入正确身份证")):a()},oe=function(e,t,a){if(null==t||""==t||void 0==t)return a(new Error("不能为空"));return t+="",0==/^1[3|4|5|7|8]\d{9}$/.test(t)?a(new Error("请输入正确手机号")):a()},se=function(e,t,a){if(null==t||""==t||void 0==t)return a(new Error("不能为空"));return t+="",0==/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)?a(new Error("请输入正确邮箱")):a()},ne={data:function(){return{foundCompany:{companyId:"",abbreviationName:"",id:"",auditStatus:"",assetInfo:"",forecastAssetDemand:"",foundCondition:"",foundYearRateRand:"",foundCost:"",monthTransactionRate:"",collectFailRate:"",businessArea:""},foundCheck:[{code:"11",itemName:"融资租赁",checked:!1},{code:"12",itemName:"车抵贷",checked:!1},{code:"13",itemName:"房抵贷",checked:!1},{code:"14",itemName:"信用贷",checked:!1},{code:"15",itemName:"供应链金融",checked:!1},{code:"16",itemName:"其他",checked:!1},{code:"10",itemName:"消费分期",checked:!1}],subFoundCheck:[{code:"1001",itemName:"3C消费",checked:!1},{code:"1002",itemName:"个人日常消费",checked:!1},{code:"1003",itemName:"装修",checked:!1},{code:"1004",itemName:"旅游",checked:!1},{code:"1005",itemName:"教育",checked:!1},{code:"1006",itemName:"医疗",checked:!1},{code:"1007",itemName:"其他",checked:!1}],rules:{foundCondition:[{max:100,message:"长度在100个字符以内",trigger:"blur"}],forecastAssetDemand:[{validator:te,trigger:"blur"}],foundYearRateRand:[{validator:le,trigger:"blur"}],monthTransactionRate:[{validator:te,trigger:"blur"}],foundCost:[{validator:te,trigger:"blur"}],collectFailRate:[{validator:te,trigger:"blur"}],businessArea:[{max:100,message:"长度在100个字符以内",trigger:"blur"}]},dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;(function(e){return v.post(h+"/p2p/s/found/company/foundCompanyDetail",e,{headers:b}).then(function(e){return e.data})})({}).then(function(t){var a=t.data;null==a?e.showDefault():(e.foundCompany=a,e.showDefault())})},showDefault:function(){if(this.foundCompany.assetInfo.length>0){null!=this.foundCompany.assetInfo.match("10")&&(this.foundCheck=this.foundCheck.concat(this.subFoundCheck));for(var e=this.foundCheck,t=this.foundCompany.assetInfo.split(","),a=0;a<e.length;a++)for(var l=e[a],r=0;r<t.length;r++){var o=t[r];l.code==o&&(l.checked=!0)}}},toSavefound:function(){var e=this,t=this;t.$refs.foundCompany.validate(function(a){if(a){for(var l="",r=0;r<t.foundCheck.length;r++){var o=t.foundCheck[r];1==o.checked&&(0==l.length?l+=o.code:l+=","+o.code)}t.foundCompany.assetInfo=l;(function(e){return v.post(h+"/p2p/s/found/company/save",e,{headers:b}).then(function(e){return e.data})})(t.foundCompany).then(function(a){var l=a.data;"200"==a.code?(t.foundCompany.id=l,t.foundCompany.auditStatus=1,e.$message({type:"success",message:"保存成功!"})):e.$message.error(a.message)})}})},handleFoundCheckChange:function(e){for(var t=this.subFoundCheck,a=0;a<this.foundCheck.length;a++){var l=this.foundCheck[a];if(l.code==e){if("10"==e)if(1==l.checked)this.foundCheck=this.foundCheck.concat(t);else{this.foundCheck.splice(7,7);for(var r=0;r<this.subFoundCheck.length;r++){this.subFoundCheck[r].checked=!1}}break}}}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"gmain"},[a("h2",[e._v("资金公司信息概况            "),a("el-button",{attrs:{span:2,type:"primary"},on:{click:function(t){e.toSavefound()}}},[e._v("保存")])],1),e._v(" "),a("h5",[e._v("\r\n        公司ID："),a("span",[e._v(e._s(e.foundCompany.companyId))]),e._v("               \r\n        公司简称:"),a("span",[e._v(e._s(e.foundCompany.abbreviationName))]),e._v("               \r\n\r\n   ")]),e._v(" "),a("el-form",{ref:"foundCompany",attrs:{model:e.foundCompany,rules:e.rules,"label-width":"170px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"接受资产类型："}},e._l(e.foundCheck,function(t){return a("el-checkbox",{key:t.code,attrs:{label:t.itemName},on:{change:function(a){e.handleFoundCheckChange(t.code)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"check.checked"}})}))],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"预测资产需求量：",prop:"forecastAssetDemand"}},[a("el-input",{attrs:{placeholder:"金额"},model:{value:e.foundCompany.forecastAssetDemand,callback:function(t){e.$set(e.foundCompany,"forecastAssetDemand",t)},expression:"foundCompany.forecastAssetDemand"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"对资产的要求：",prop:"foundCondition"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.foundCompany.foundCondition,expression:"foundCompany.foundCondition"}],staticStyle:{width:"98%",height:"50px"},attrs:{placeholder:"0～100字符"},domProps:{value:e.foundCompany.foundCondition},on:{input:function(t){t.target.composing||e.$set(e.foundCompany,"foundCondition",t.target.value)}}})])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"资金年化利率范围：",prop:"foundYearRateRand"}},[a("el-input",{attrs:{placeholder:"12%～18%"},model:{value:e.foundCompany.foundYearRateRand,callback:function(t){e.$set(e.foundCompany,"foundYearRateRand",t)},expression:"foundCompany.foundYearRateRand"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"资金成本：",prop:"foundCost"}},[a("el-input",{attrs:{placeholder:"年化利率"},model:{value:e.foundCompany.foundCost,callback:function(t){e.$set(e.foundCompany,"foundCost",t)},expression:"foundCompany.foundCost"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"月平均资金成交利率：",prop:"monthTransactionRate"}},[a("el-input",{attrs:{placeholder:"百分比"},model:{value:e.foundCompany.monthTransactionRate,callback:function(t){e.$set(e.foundCompany,"monthTransactionRate",t)},expression:"foundCompany.monthTransactionRate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"募集失败率：",prop:"collectFailRate"}},[a("el-input",{attrs:{placeholder:"百分比"},model:{value:e.foundCompany.collectFailRate,callback:function(t){e.$set(e.foundCompany,"collectFailRate",t)},expression:"foundCompany.collectFailRate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"公司业务区域：",prop:"businessArea"}},[a("el-input",{attrs:{placeholder:"城市，可选全国，多个城市用英文逗号分隔"},model:{value:e.foundCompany.businessArea,callback:function(t){e.$set(e.foundCompany,"businessArea",t)},expression:"foundCompany.businessArea"}})],1)],1)],1)],1)],1)])])},staticRenderFns:[]},ce=a("VU/8")(ne,ie,!1,function(e){a("+xRI")},"data-v-7a6a5e8e",null).exports,ue={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{companyId:"",assetInfo:"",foundCost:"",collectFailRate:"",companyName:"",abbreviationName:"",businessArea:"",assetInfoList:[{code:"",itemName:"请选择接受资产类型"},{code:"10",itemName:"消费分期",checked:!1},{code:"11",itemName:"融资租赁",checked:!1},{code:"12",itemName:"车抵贷",checked:!1},{code:"13",itemName:"房抵贷",checked:!1},{code:"14",itemName:"信用贷",checked:!1},{code:"15",itemName:"供应链金融",checked:!1},{code:"16",itemName:"其他",checked:!1}],subAssetInfoList:[{code:"1001",itemName:"3C消费",checked:!1},{code:"1002",itemName:"个人日常消费",checked:!1},{code:"1003",itemName:"装修",checked:!1},{code:"1004",itemName:"旅游",checked:!1},{code:"1005",itemName:"教育",checked:!1},{code:"1006",itemName:"医疗",checked:!1},{code:"1007",itemName:"其他",checked:!1}],foundCostList:[{value:"",label:"请选择资金成本"},{value:"0",label:"0%~5%"},{value:"1",label:"5%~10%"},{value:"2",label:"10%~15%"},{value:"3",label:"15%~20%"},{value:"4",label:"其他"}]},multipleSelection:[],dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({companyId:e.companyId,assetInfo:e.assetInfo,foundCost:e.foundCost,collectFailRate:e.collectFailRate,fullName:e.companyName,abbreviationName:e.abbreviationName,businessArea:e.businessArea})),function(e){return v.post(h+"/p2p/s/found/company/foundCompanyList",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list;for(var a,r,o,s,n=l.criteria.assetInfoList.concat(l.criteria.subAssetInfoList),i=0;i<l.tableData.length;i++){var c="";if(null!=(a=l.tableData[i]).assetInfo&&""!=a.assetInfo){r=a.assetInfo.split(",");for(var u=0;u<r.length;u++){o=r[u];for(var d=0;d<n.length;d++)(s=n[d]).code==o&&(c+=""==c?s.itemName:"，"+s.itemName)}}a.assetInfo=c}})},handleAddCooperation:function(e,t){var a=this;console.log("d:",e,t);var l=this;(function(e){return v.post(h+"/p2p/s/found/company/addMyFound",e,{headers:b}).then(function(e){return e.data})})({companyId:t.companyId}).then(function(e){console.log("del:",e),"200"==e.code?(l.reload(),a.$message({type:"success",message:"添加成功!"})):a.$message.error(e.message)})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",name:"",img:"",useStatus:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleExport:function(){this.export(this.criteria)},export:function(e){var t={search:""};null!=e&&(t.search=M()({companyId:e.companyId,assetInfo:e.assetInfo,foundCost:e.foundCost,collectFailRate:e.collectFailRate,fullName:e.companyName,abbreviationName:e.abbreviationName,businessArea:e.businessArea,exportType:"1"}));var a=document.createElement("form");a.name="form",document.body.appendChild(a);for(var l in t)if(t.hasOwnProperty(l)){var r=document.createElement("input");r.tpye="hidden",r.name=l,r.value=t[l],a.appendChild(r)}a.method="post",a.action=I(),a.submit(),document.body.removeChild(a)}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入公司ID","prefix-icon":"el-icon-search"},model:{value:e.criteria.companyId,callback:function(t){e.$set(e.criteria,"companyId",t)},expression:"criteria.companyId"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"w18",attrs:{placeholder:"接受资产类型"},model:{value:e.criteria.assetInfo,callback:function(t){e.$set(e.criteria,"assetInfo",t)},expression:"criteria.assetInfo"}},e._l(e.criteria.assetInfoList,function(e){return a("el-option",{key:e.code,attrs:{label:e.itemName,value:e.code}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"w18",attrs:{placeholder:"资金成本"},model:{value:e.criteria.foundCost,callback:function(t){e.$set(e.criteria,"foundCost",t)},expression:"criteria.foundCost"}},e._l(e.criteria.foundCostList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"募集失败率","prefix-icon":"el-icon-search"},model:{value:e.criteria.collectFailRate,callback:function(t){e.$set(e.criteria,"collectFailRate",t)},expression:"criteria.collectFailRate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.companyName,callback:function(t){e.$set(e.criteria,"companyName",t)},expression:"criteria.companyName"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资金方简称","prefix-icon":"el-icon-search"},model:{value:e.criteria.abbreviationName,callback:function(t){e.$set(e.criteria,"abbreviationName",t)},expression:"criteria.abbreviationName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w25",attrs:{placeholder:"业务区域(多个城市逗号分隔)","prefix-icon":"el-icon-search"},model:{value:e.criteria.businessArea,callback:function(t){e.$set(e.criteria,"businessArea",t)},expression:"criteria.businessArea"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleExport}},[e._v("导出")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyId",label:"公司ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"abbreviationName",label:"资金方简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"assetInfo",label:"可接受资产类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"forecastAssetDemand",label:"预测资产需求量（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"foundCondition",label:"对资产的要求"}}),e._v(" "),a("el-table-column",{attrs:{prop:"foundYearRateRand",label:"资金年化利率范围"}}),e._v(" "),a("el-table-column",{attrs:{prop:"foundCost",label:"资金成本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"monthTransactionRate",label:"月平均资金成交利率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"collectFailRate",label:"募集失败率"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleAddCooperation(t.$index,t.row)}}},[e._v("加入合作名单")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]},me=a("VU/8")(ue,de,!1,null,null,null).exports,pe={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{companyId:"",assetInfo:"",foundCost:"",collectFailRate:"",companyName:"",abbreviationName:"",businessArea:"",assetInfoList:[{code:"",itemName:"请选择接受资产类型"},{code:"10",itemName:"消费分期",checked:!1},{code:"11",itemName:"融资租赁",checked:!1},{code:"12",itemName:"车抵贷",checked:!1},{code:"13",itemName:"房抵贷",checked:!1},{code:"14",itemName:"信用贷",checked:!1},{code:"15",itemName:"供应链金融",checked:!1},{code:"16",itemName:"其他",checked:!1}],subAssetInfoList:[{code:"1001",itemName:"3C消费",checked:!1},{code:"1002",itemName:"个人日常消费",checked:!1},{code:"1003",itemName:"装修",checked:!1},{code:"1004",itemName:"旅游",checked:!1},{code:"1005",itemName:"教育",checked:!1},{code:"1006",itemName:"医疗",checked:!1},{code:"1007",itemName:"其他",checked:!1}],foundCostList:[{value:"",label:"请选择资金成本"},{value:"0",label:"0%~5%"},{value:"1",label:"5%~10%"},{value:"2",label:"10%~15%"},{value:"3",label:"15%~20%"},{value:"4",label:"其他"}]},multipleSelection:[],dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({companyId:e.companyId,assetInfo:e.assetInfo,foundCost:e.foundCost,collectFailRate:e.collectFailRate,fullName:e.companyName,abbreviationName:e.abbreviationName,businessArea:e.businessArea})),function(e){return v.post(h+"/p2p/s/found/company/myFoundCompanyList",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list;for(var a,r,o,s,n=l.criteria.assetInfoList.concat(l.criteria.subAssetInfoList),i=0;i<l.tableData.length;i++){var c="";if(null!=(a=l.tableData[i]).assetInfo&&""!=a.assetInfo){r=a.assetInfo.split(",");for(var u=0;u<r.length;u++){o=r[u];for(var d=0;d<n.length;d++)(s=n[d]).code==o&&(c+=""==c?s.itemName:"，"+s.itemName)}}a.assetInfo=c}})},handleRemoveCooperation:function(e,t){var a=this;console.log("d:",e,t);var l=this;(function(e){return v.post(h+"/p2p/s/found/company/removeMyFound",e,{headers:b}).then(function(e){return e.data})})({whiteListId:t.whiteListId}).then(function(e){console.log("del:",e),"200"==e.code?(l.reload(),a.$message({type:"success",message:"移出成功!"})):a.$message.error(e.message)})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",name:"",img:"",useStatus:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleExport:function(){this.export(this.criteria)},export:function(e){var t={search:""};null!=e&&(t.search=M()({companyId:e.companyId,assetInfo:e.assetInfo,foundCost:e.foundCost,collectFailRate:e.collectFailRate,fullName:e.companyName,abbreviationName:e.abbreviationName,businessArea:e.businessArea,exportType:"0"}));var a=document.createElement("form");a.name="form",document.body.appendChild(a);for(var l in t)if(t.hasOwnProperty(l)){var r=document.createElement("input");r.tpye="hidden",r.name=l,r.value=t[l],a.appendChild(r)}a.method="post",a.action=I(),a.submit(),document.body.removeChild(a)}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入公司ID","prefix-icon":"el-icon-search"},model:{value:e.criteria.companyId,callback:function(t){e.$set(e.criteria,"companyId",t)},expression:"criteria.companyId"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"w18",attrs:{placeholder:"接受资产类型"},model:{value:e.criteria.assetInfo,callback:function(t){e.$set(e.criteria,"assetInfo",t)},expression:"criteria.assetInfo"}},e._l(e.criteria.assetInfoList,function(e){return a("el-option",{key:e.code,attrs:{label:e.itemName,value:e.code}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"w18",attrs:{placeholder:"资金成本"},model:{value:e.criteria.foundCost,callback:function(t){e.$set(e.criteria,"foundCost",t)},expression:"criteria.foundCost"}},e._l(e.criteria.foundCostList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"募集失败率","prefix-icon":"el-icon-search"},model:{value:e.criteria.collectFailRate,callback:function(t){e.$set(e.criteria,"collectFailRate",t)},expression:"criteria.collectFailRate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.companyName,callback:function(t){e.$set(e.criteria,"companyName",t)},expression:"criteria.companyName"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资金方简称","prefix-icon":"el-icon-search"},model:{value:e.criteria.abbreviationName,callback:function(t){e.$set(e.criteria,"abbreviationName",t)},expression:"criteria.abbreviationName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w25",attrs:{placeholder:"业务区域(多个城市逗号分隔)","prefix-icon":"el-icon-search"},model:{value:e.criteria.businessArea,callback:function(t){e.$set(e.criteria,"businessArea",t)},expression:"criteria.businessArea"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyId",label:"公司ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"abbreviationName",label:"资金方简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"assetInfo",label:"可接受资产类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"forecastAssetDemand",label:"预测资产需求量（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"foundCondition",label:"对资产的要求"}}),e._v(" "),a("el-table-column",{attrs:{prop:"foundYearRateRand",label:"资金年化利率范围"}}),e._v(" "),a("el-table-column",{attrs:{prop:"foundCost",label:"资金成本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"monthTransactionRate",label:"月平均资金成交利率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"collectFailRate",label:"募集失败率"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleRemoveCooperation(t.$index,t.row)}}},[e._v("移出合作名单")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]},ve=a("VU/8")(pe,fe,!1,null,null,null).exports,he={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{id:"",assetType:"",aType:[{value:"",label:"全部"},{value:"10",label:"消费分期"},{value:"11",label:"融资租赁"},{value:"12",label:"车抵贷"},{value:"13",label:"房抵贷"},{value:"14",label:"信用贷"},{value:"15",label:"供应链金融"},{value:"16",label:"其他"}],everyDeadline:"",eDeadline:[{value:"",label:"全部"},{value:"1",label:"0~3个月"},{value:"2",label:"0~12个月"},{value:"3",label:"0~24个月"},{value:"4",label:"24个月以上"}],everySum:"",fullName:"",abbreviationName:"",businessArea:""},multipleSelection:[],dialogFormVisible:!1,dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({id:e.id,asset_type:e.assetType,every_deadline:e.everyDeadline,every_sum:e.everySum,business_area:e.businessArea,full_name:e.fullName,abbreviation_name:e.abbreviationName})),function(e){return v.post(h+"/p2p/s/asset/company/getAssetCompanyPoolList",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",name:"",img:"",useStatus:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleExport:function(){this.export(this.criteria)},export:function(e){var t={search:""};null!=e&&(t.search=M()({id:e.id,asset_type:e.assetType,every_deadline:e.everyDeadline,every_sum:e.everySum,business_area:e.businessArea,full_name:e.fullName,abbreviation_name:e.abbreviationName}));var a=document.createElement("form");a.name="form",document.body.appendChild(a);for(var l in t)if(t.hasOwnProperty(l)){var r=document.createElement("input");r.tpye="hidden",r.name=l,r.value=t[l],a.appendChild(r)}a.method="post",a.action=h+"/p2p/s/asset/company/exportAssetCompany?access_token="+sessionStorage.access_token+"&appSecret="+sessionStorage.appSecret,a.submit(),document.body.removeChild(a)},handleAddCooperation:function(e,t){console.log(t);var a=this;confirm("你确定要加入合作名单吗？")&&function(e){return v.post(h+"/p2p/s/black/white/list/addCooperation",e,{headers:b}).then(function(e){return e.data})}({targetCompanyId:t.id,targetCompanyName:t.full_name,relationType:1}).then(function(e){alert(e.message),"200"==e.code&&a.reload()})}}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"searchbar"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入公司ID"},model:{value:e.criteria.id,callback:function(t){e.$set(e.criteria,"id",t)},expression:"criteria.id"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"资产类别"},model:{value:e.criteria.assetType,callback:function(t){e.$set(e.criteria,"assetType",t)},expression:"criteria.assetType"}},e._l(e.criteria.aType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"资产期限"},model:{value:e.criteria.everyDeadline,callback:function(t){e.$set(e.criteria,"everyDeadline",t)},expression:"criteria.everyDeadline"}},e._l(e.criteria.eDeadline,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("加入合作名单")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"单笔资产额度"},model:{value:e.criteria.everySum,callback:function(t){e.$set(e.criteria,"everySum",t)},expression:"criteria.everySum"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司名称"},model:{value:e.criteria.fullName,callback:function(t){e.$set(e.criteria,"fullName",t)},expression:"criteria.fullName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司简称"},model:{value:e.criteria.abbreviationName,callback:function(t){e.$set(e.criteria,"abbreviationName",t)},expression:"criteria.abbreviationName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"业务区域,逗号分隔"},model:{value:e.criteria.businessArea,callback:function(t){e.$set(e.criteria,"businessArea",t)},expression:"criteria.businessArea"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"公司ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"abbreviation_name",label:"资产方简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"asset_size",label:"资产规模（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"month_size",label:"月新增规模（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"every_deadline",label:"单笔资产期限"}}),e._v(" "),a("el-table-column",{attrs:{prop:"every_sum",label:"单笔资产额度（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overdue",label:"逾期情况"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accept_found",label:"可接受资金成本（年化利率）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"business_area",label:"业务区域"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_performance_insurance",label:"履约险"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_performance_insurance?a("span",[e._v(" 无")]):e._e(),e._v(" "),1==t.row.is_performance_insurance?a("span",[e._v("有")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_guarantee",label:"担保"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_guarantee?a("span",[e._v(" 无")]):e._e(),e._v(" "),1==t.row.is_guarantee?a("span",[e._v("有")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleAddCooperation(t.$index,t.row)}}},[e._v("加入合作名单")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]},ge=a("VU/8")(he,be,!1,null,null,null).exports,_e=a("bOdI"),ye=a.n(_e),Ce={name:"assetitem",data:function(){var e;return e={tableData:[],pagesize:10,currentPage:1,totalCount:100,firstCardItemName:"baseInfo",criteria:{id:"",borrower_name:"",borrow_amount:"",borrow_deadline:"",repay_way:"",borrow_rate:"",asset_info:"",use_status:"",bDeadline:[{value:"",label:"全部"},{value:"1",label:"0~3个月"},{value:"2",label:"0~12个月"},{value:"3",label:"0~24个月"},{value:"4",label:"24个月以上"}],rWay:[{value:"",label:"全部"},{value:"1",label:"到期还本付息"},{value:"2",label:"等额本息"},{value:"3",label:"先息后本"}],aInfo:[{value:"11",label:"融资租赁"},{value:"12",label:"车抵贷"},{value:"13",label:"房抵贷"},{value:"14",label:"信用贷"},{value:"15",label:"供应链金融"},{value:"16",label:"其他"},{value:"10",label:"消费分期"}],uStatus:[{value:"",label:"全部"},{value:"0",label:"草稿"},{value:"1",label:"待审核"},{value:"2",label:"审核不通过"},{value:"3",label:"审核通过"},{value:"4",label:"发标中"},{value:"5",label:"满标"}]},personInfo:{itemId:"",name:"",idNumber:"",mobile:"",sex:"",address:"",email:"",professionType:"",salary:"",itemTitle:"",assetInfo:"",borrowAmount:"",borrowDeadline:"",repayWay:"",borrowRate:"",idCardFirstUrl:"",idCardSecondUrl:"",bankCardFirstUrl:"",bankCardSecondUrl:""},sexList:[{value:"",label:"请选择"},{value:"0",label:"男"},{value:"1",label:"女"}],professionTypeList:[{value:"",label:"请选择"},{value:"1",label:"企业主"},{value:"2",label:"个体工商户"},{value:"3",label:"上班人群"},{value:"4",label:"学生"},{value:"5",label:"无固定职业"}],assetInfoList:[{value:"",label:"请选择"},{value:"10",label:"消费分期"},{value:"11",label:"融资租赁"},{value:"12",label:"车抵贷"},{value:"13",label:"房抵贷"},{value:"14",label:"信用贷"},{value:"15",label:"供应链金融"},{value:"16",label:"其他"}],borrowDeadlineList:[{value:"",label:"请选择"},{value:"1",label:"0~3个月"},{value:"2",label:"0~12个月"},{value:"3",label:"0~24个月"},{value:"4",label:"24个月以上"}],repayWayList:[{value:"",label:"请选择"},{value:"1",label:"到期还本付息"},{value:"2",label:"等额本息"},{value:"3",label:"先息后本"}],rules:{name:[{max:20,required:!0,message:"请填写姓名，长度在20个字符以内",trigger:"blur"}],idNumber:[{validator:re,required:!0,trigger:"blur"}],mobile:[{validator:oe,required:!0,trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],address:[{max:100,required:!0,message:"请填写地址，长度在100个字符以内",trigger:"blur"}],email:[{validator:se,required:!0,trigger:"blur"}],salary:[{validator:ae,message:"请输入整数",trigger:"blur"}],itemTitle:[{max:20,required:!0,message:"请填写项目标题，长度在20个字符以内",trigger:"blur"}],assetInfo:[{required:!0,message:"请选择资产类型",trigger:"blur"}],borrowAmount:[{validator:te,required:!0,trigger:"blur"}],borrowDeadline:[{required:!0,message:"请选择期限",trigger:"blur"}],repayWay:[{required:!0,message:"请选择还款方式",trigger:"blur"}],borrowRate:[{validator:te,required:!0,trigger:"blur"}],idCardFirstUrl:[{required:!0,message:"请选择身份证正面图片",trigger:"blur"}],idCardSecondUrl:[{required:!0,message:"请选择身份证反面图片",trigger:"blur"}],bankCardFirstUrl:[{required:!0,message:"请选择银行卡正面图片",trigger:"blur"}],bankCardSecondUrl:[{required:!0,message:"请选择银行卡反面图片",trigger:"blur"}]},dialogAssetitemFormVisible:!1,multipleSelection:[],dialogWidth:"700px",assetCompanyMenu:!1,foundCompanyMenu:!1,dialogAuditFormVisible:!1},ye()(e,"dialogWidth","700px"),ye()(e,"dialogAuditWidth","400px"),ye()(e,"audit",{status:"",id:""}),ye()(e,"multipleSelection",[]),e},mounted:function(){sessionStorage.userType>1?(this.criteria.assetCompanyMenu=!1,this.criteria.foundCompanyMenu=!0):(this.criteria.assetCompanyMenu=!0,this.criteria.foundCompanyMenu=!1),this.reload()},methods:{loadData:function(e,t,a){var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({id:e.id,borrower_name:e.borrower_name,borrow_amount:e.borrow_amount,borrow_deadline:e.borrow_deadline,repay_way:e.repay_way,borrow_rate:e.borrow_rate,asset_info:e.asset_info,use_status:e.use_status})),function(e){return v.post(h+"/p2p/s/item/info/getAssetItemPoolList",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){void 0!==this.$refs.personInfo&&(this.$refs.personInfo.resetFields(),this.personInfo={itemId:"",name:"",idNumber:"",mobile:"",sex:"",address:"",email:"",professionType:"",salary:"",itemTitle:"",assetInfo:"",borrowAmount:"",borrowDeadline:"",repayWay:"",borrowRate:"",idCardFirstUrl:"",idCardSecondUrl:"",bankCardFirstUrl:"",bankCardSecondUrl:""}),this.dialogAssetitemFormVisible=!1},close:function(){this.dialogAuditFormVisible=!1},close1:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleAudit:function(e,t){this.audit.id=t.id,this.dialogAuditFormVisible=!0},toAudit:function(){var e=this,t=this;(function(e){return v.post(h+"/p2p/s/item/info/auditAssetItem",e,{headers:b}).then(function(e){return e.data})})({id:t.audit.id,status:t.audit.status}).then(function(a){"200"==a.code?(e.$message({type:"success",message:"审核成功!"}),t.dialogAuditFormVisible=!1,t.reload()):e.$message.error(a.message)})},handleAddCar:function(e,t){var a=this;confirm("你确定要加入购物车吗？")&&function(e){return v.post(h+"/p2p/s/item/info/addCar",e,{headers:b}).then(function(e){return e.data})}({id:t.id}).then(function(e){alert(e.message),"200"==e.code&&a.reload()})},addPersonItem:function(){this.firstCardItemName="baseInfo",this.dialogAssetitemFormVisible=!0},getFile:function(e,t){var a=e.target.files[0];void 0!=a&&(this.uploadFile(a,t,e),e.target.value="")},uploadFile:function(e,t,a){a.preventDefault();var l=this,r=new FormData;r.append("file",e),g({formData:r,callback:function(e){console.log("uploadFile",e),"200"==e.code?1==t?l.personInfo.idCardFirstUrl=e.data.url:2==t?l.personInfo.idCardSecondUrl=e.data.url:3==t?l.personInfo.bankCardFirstUrl=e.data.url:4==t&&(l.personInfo.bankCardSecondUrl=e.data.url):this.$message.error(e.message)}})},toSavePerson:function(){var e=this,t=this;t.$refs.personInfo.validate(function(a){if(a){(function(e){return v.post(h+"/p2p/s/item/info/addPersonItem",e,{headers:b}).then(function(e){return e.data})})(t.personInfo).then(function(a){a.data;"200"==a.code?(e.$message({type:"success",message:"保存成功!"}),t.reload(),t.restForm()):e.$message.error(a.message)})}})},handleDetail:function(e,t){},export:function(e,t){var a={search:""};null!=e&&"1"==t&&(a.search=M()({id:e.id,borrower_name:e.borrower_name,borrow_amount:e.borrow_amount,borrow_deadline:e.borrow_deadline,repay_way:e.repay_way,borrow_rate:e.borrow_rate,asset_info:e.asset_info,use_status:e.use_status}));var l=document.createElement("form");l.name="form",document.body.appendChild(l);for(var r in a)if(a.hasOwnProperty(r)){var o=document.createElement("input");o.tpye="hidden",o.name=r,o.value=a[r],l.appendChild(o)}l.method="post","1"==t&&(l.action=h+"/p2p/s/item/info/exportAssetItem?access_token="+sessionStorage.access_token+"&appSecret="+sessionStorage.appSecret),"2"==t&&(l.action=h+"/p2p/s/item/info/exportAssetItemCar?access_token="+sessionStorage.access_token+"&appSecret="+sessionStorage.appSecret),l.submit(),document.body.removeChild(l)},handleExport:function(){this.export(this.criteria,"1")},handleExportCar:function(){this.export(this.criteria,"2")},handleEdit:function(e,t){var a=this;a.personInfo.itemId=t.id,(void 0)({id:t.id}).then(function(e){var t=e.data;a.personInfo.name=t.name,a.personInfo.idNumber=t.id_number,a.personInfo.mobile=t.mobile,a.personInfo.sex=t.sex+"",a.personInfo.address=t.address,a.personInfo.email=t.email,a.personInfo.professionType=t.profession_type+"",a.personInfo.salary=t.salary,a.personInfo.itemTitle=t.item_title,a.personInfo.assetInfo=t.asset_info+"",a.personInfo.borrowAmount=t.borrow_amount,a.personInfo.borrowDeadline=t.borrow_deadline+"",a.personInfo.repayWay=t.repay_way+"",a.personInfo.borrowRate=t.borrow_rate,a.personInfo.idCardFirstUrl=t.id_card_first_url,a.personInfo.idCardSecondUrl=t.id_card_second_url,a.personInfo.bankCardFirstUrl=t.bank_card_first_url,a.personInfo.bankCardSecondUrl=t.bank_card_second_url,a.addPersonItem()})}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.criteria.assetCompanyMenu,expression:"criteria.assetCompanyMenu"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addPersonItem()}}},[e._v("添加个人项目")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"项目编号"},model:{value:e.criteria.id,callback:function(t){e.$set(e.criteria,"id",t)},expression:"criteria.id"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"借款人"},model:{value:e.criteria.borrower_name,callback:function(t){e.$set(e.criteria,"borrower_name",t)},expression:"criteria.borrower_name"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资产金额"},model:{value:e.criteria.borrow_amount,callback:function(t){e.$set(e.criteria,"borrow_amount",t)},expression:"criteria.borrow_amount"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.criteria.assetCompanyMenu,expression:"criteria.assetCompanyMenu"}],attrs:{type:"primary"},on:{click:e.search}},[e._v("审核")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExportCar}},[e._v("导出购物车")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"资产期限"},model:{value:e.criteria.borrow_deadline,callback:function(t){e.$set(e.criteria,"borrow_deadline",t)},expression:"criteria.borrow_deadline"}},e._l(e.criteria.eDeadline,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"还款方式"},model:{value:e.criteria.repay_way,callback:function(t){e.$set(e.criteria,"repay_way",t)},expression:"criteria.repay_way"}},e._l(e.criteria.eDeadline,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"利率"},model:{value:e.criteria.borrow_rate,callback:function(t){e.$set(e.criteria,"borrow_rate",t)},expression:"criteria.borrow_rate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"资产类型"},model:{value:e.criteria.asset_info,callback:function(t){e.$set(e.criteria,"asset_info",t)},expression:"criteria.asset_info"}},e._l(e.criteria.eDeadline,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"项目状态"},model:{value:e.criteria.use_status,callback:function(t){e.$set(e.criteria,"use_status",t)},expression:"criteria.use_status"}},e._l(e.criteria.eDeadline,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"项目编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"borrower_name",label:"借款人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"borrow_amount",label:"金额（元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"borrow_deadline",label:"资产期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.borrow_deadline?a("span",[e._v(" 0~3个月")]):e._e(),e._v(" "),2==t.row.borrow_deadline?a("span",[e._v(" 0~12个月")]):e._e(),e._v(" "),3==t.row.borrow_deadline?a("span",[e._v(" 0~24个月")]):e._e(),e._v(" "),4==t.row.borrow_deadline?a("span",[e._v(" 24个月以上")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"repay_way",label:"还款方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.repay_way?a("span",[e._v("到期还本付息")]):e._e(),e._v(" "),2==t.row.repay_way?a("span",[e._v("等额本息")]):e._e(),e._v(" "),3==t.row.repay_way?a("span",[e._v("先息后本")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"borrow_rate",label:"利率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"asset_info",label:"资产类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[10==t.row.asset_info?a("span",[e._v("消费分期")]):e._e(),e._v(" "),11==t.row.asset_info?a("span",[e._v("融资租赁")]):e._e(),e._v(" "),12==t.row.asset_info?a("span",[e._v("车抵贷")]):e._e(),e._v(" "),13==t.row.asset_info?a("span",[e._v("房抵贷")]):e._e(),e._v(" "),14==t.row.asset_info?a("span",[e._v("信用贷")]):e._e(),e._v(" "),15==t.row.asset_info?a("span",[e._v("供应链金融")]):e._e(),e._v(" "),16==t.row.asset_info?a("span",[e._v("其他")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"use_status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.use_status?a("span",[e._v("草稿")]):e._e(),e._v(" "),1==t.row.use_status?a("span",[e._v("待审核")]):e._e(),e._v(" "),2==t.row.use_status?a("span",[e._v("审核不通过")]):e._e(),e._v(" "),3==t.row.use_status?a("span",[e._v("审核通过")]):e._e(),e._v(" "),4==t.row.use_status?a("span",[e._v("发标中")]):e._e(),e._v(" "),5==t.row.use_status?a("span",[e._v("满标")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),1==t.row.use_status?a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.criteria.assetCompanyMenu,expression:"criteria.assetCompanyMenu"}],attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleAudit(t.$index,t.row)}}},[e._v("审核")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.criteria.foundCompanyMenu,expression:"criteria.foundCompanyMenu"}],attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleAddCar(t.$index,t.row)}}},[e._v("加入购物车")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{staticClass:"demo-ruleForm",attrs:{title:"借款人个人项目",visible:e.dialogAssetitemFormVisible,"before-close":e.close1,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogAssetitemFormVisible=t}}},[a("el-form",{ref:"personInfo",attrs:{model:e.personInfo,rules:e.rules,"label-width":"100px"}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.firstCardItemName,callback:function(t){e.firstCardItemName=t},expression:"firstCardItemName"}},[a("el-tab-pane",{attrs:{name:"baseInfo",label:"借款人基础信息"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.personInfo.name,callback:function(t){e.$set(e.personInfo,"name",t)},expression:"personInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证",prop:"idNumber"}},[a("el-input",{model:{value:e.personInfo.idNumber,callback:function(t){e.$set(e.personInfo,"idNumber",t)},expression:"personInfo.idNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{model:{value:e.personInfo.mobile,callback:function(t){e.$set(e.personInfo,"mobile",t)},expression:"personInfo.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{model:{value:e.personInfo.sex,callback:function(t){e.$set(e.personInfo,"sex",t)},expression:"personInfo.sex"}},e._l(e.sexList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"住址",prop:"address"}},[a("el-input",{model:{value:e.personInfo.address,callback:function(t){e.$set(e.personInfo,"address",t)},expression:"personInfo.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.personInfo.email,callback:function(t){e.$set(e.personInfo,"email",t)},expression:"personInfo.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职业",prop:"professionType"}},[a("el-select",{model:{value:e.personInfo.professionType,callback:function(t){e.$set(e.personInfo,"professionType",t)},expression:"personInfo.professionType"}},e._l(e.professionTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"月收入",prop:"salary"}},[a("el-input",{model:{value:e.personInfo.salary,callback:function(t){e.$set(e.personInfo,"salary",t)},expression:"personInfo.salary"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"项目信息"}},[a("el-form-item",{attrs:{label:"项目标题",prop:"itemTitle"}},[a("el-input",{model:{value:e.personInfo.itemTitle,callback:function(t){e.$set(e.personInfo,"itemTitle",t)},expression:"personInfo.itemTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"资产类型",prop:"assetInfo"}},[a("el-select",{model:{value:e.personInfo.assetInfo,callback:function(t){e.$set(e.personInfo,"assetInfo",t)},expression:"personInfo.assetInfo"}},e._l(e.assetInfoList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"金额",prop:"borrowAmount"}},[a("el-input",{model:{value:e.personInfo.borrowAmount,callback:function(t){e.$set(e.personInfo,"borrowAmount",t)},expression:"personInfo.borrowAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"期限",prop:"borrowDeadline"}},[a("el-select",{model:{value:e.personInfo.borrowDeadline,callback:function(t){e.$set(e.personInfo,"borrowDeadline",t)},expression:"personInfo.borrowDeadline"}},e._l(e.borrowDeadlineList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"还款方式",prop:"repayWay"}},[a("el-select",{model:{value:e.personInfo.repayWay,callback:function(t){e.$set(e.personInfo,"repayWay",t)},expression:"personInfo.repayWay"}},e._l(e.repayWayList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"借款年利率",prop:"borrowRate"}},[a("el-input",{model:{value:e.personInfo.borrowRate,callback:function(t){e.$set(e.personInfo,"borrowRate",t)},expression:"personInfo.borrowRate"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"信审、附件材料"}},[a("el-form-item",{attrs:{label:"身份证正面",prop:"idCardFirstUrl"}},[a("img",{attrs:{src:e.personInfo.idCardFirstUrl,width:"20%",alt:"front"}}),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,1)}}})]),e._v(" "),a("el-form-item",{attrs:{label:"身份证反面",prop:"idCardSecondUrl"}},[a("img",{attrs:{src:e.personInfo.idCardSecondUrl,width:"20%",alt:"front"}}),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,2)}}})]),e._v(" "),a("el-form-item",{attrs:{label:"银行卡正面",prop:"bankCardFirstUrl"}},[a("img",{attrs:{src:e.personInfo.bankCardFirstUrl,width:"20%",alt:"front"}}),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,3)}}})]),e._v(" "),a("el-form-item",{attrs:{label:"银行卡反面",prop:"bankCardSecondUrl"}},[a("img",{attrs:{src:e.personInfo.bankCardSecondUrl,width:"20%",alt:"front"}}),e._v(" "),a("input",{attrs:{type:"file",name:"file"},on:{change:function(t){e.getFile(t,4)}}})])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.close1()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.criteria.assetCompanyMenu,expression:"criteria.assetCompanyMenu"}],attrs:{type:"primary"},on:{click:function(t){e.toSavePerson()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"demo-ruleForm",attrs:{title:"审核",visible:e.dialogAuditFormVisible,"before-close":e.close,width:e.dialogAuditWidth},on:{"update:visible":function(t){e.dialogAuditFormVisible=t}}},[a("el-form",{ref:"audit",attrs:{model:e.audit,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"审核结果",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.audit.status,callback:function(t){e.$set(e.audit,"status",t)},expression:"audit.status"}},[a("el-option",{attrs:{label:"审核不通过",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"审核通过",value:"3"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.close()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.toAudit()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},we=a("VU/8")(Ce,ke,!1,null,null,null).exports,xe={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{id:"",assetType:"",aType:[{value:"",label:"全部"},{value:"10",label:"消费分期"},{value:"11",label:"融资租赁"},{value:"12",label:"车抵贷"},{value:"13",label:"房抵贷"},{value:"14",label:"信用贷"},{value:"15",label:"供应链金融"},{value:"16",label:"其他"}],everyDeadline:"",eDeadline:[{value:"",label:"全部"},{value:"1",label:"0~3个月"},{value:"2",label:"0~12个月"},{value:"3",label:"0~24个月"},{value:"4",label:"24个月以上"}],everySum:"",fullName:"",abbreviationName:"",businessArea:""},multipleSelection:[],dialogFormVisible:!1,dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({id:e.id,asset_type:e.assetType,every_deadline:e.everyDeadline,every_sum:e.everySum,business_area:e.businessArea,full_name:e.fullName,abbreviation_name:e.abbreviationName})),function(e){return v.post(h+"/p2p/s/black/white/list/getMyAssetCompanyList",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(this.criteria,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",name:"",img:"",useStatus:"0"}},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleDeleteCooperation:function(e,t){console.log(t);var a=this;confirm("你确定要移出合作名单吗？")&&function(e){return v.post(h+"/p2p/s/black/white/list/deleteCooperation",e,{headers:b}).then(function(e){return e.data})}({targetCompanyId:t.id}).then(function(e){alert(e.message),"200"==e.code&&a.reload()})}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"searchbar"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入公司ID"},model:{value:e.criteria.id,callback:function(t){e.$set(e.criteria,"id",t)},expression:"criteria.id"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"资产类别"},model:{value:e.criteria.assetType,callback:function(t){e.$set(e.criteria,"assetType",t)},expression:"criteria.assetType"}},e._l(e.criteria.aType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"资产期限"},model:{value:e.criteria.everyDeadline,callback:function(t){e.$set(e.criteria,"everyDeadline",t)},expression:"criteria.everyDeadline"}},e._l(e.criteria.eDeadline,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("加入合作名单")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("导出")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"单笔资产额度"},model:{value:e.criteria.everySum,callback:function(t){e.$set(e.criteria,"everySum",t)},expression:"criteria.everySum"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司名称"},model:{value:e.criteria.fullName,callback:function(t){e.$set(e.criteria,"fullName",t)},expression:"criteria.fullName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"公司简称"},model:{value:e.criteria.abbreviationName,callback:function(t){e.$set(e.criteria,"abbreviationName",t)},expression:"criteria.abbreviationName"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"公司ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"abbreviation_name",label:"资产方简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"asset_size",label:"资产规模（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"month_size",label:"月新增规模（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"every_deadline",label:"单笔资产期限"}}),e._v(" "),a("el-table-column",{attrs:{prop:"every_sum",label:"单笔资产额度（万元）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overdue",label:"逾期情况"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accept_found",label:"可接受资金成本（年化利率）"}}),e._v(" "),a("el-table-column",{attrs:{prop:"business_area",label:"业务区域"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_performance_insurance",label:"履约险"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_performance_insurance?a("span",[e._v(" 无")]):e._e(),e._v(" "),1==t.row.is_performance_insurance?a("span",[e._v("有")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_guarantee",label:"担保"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_guarantee?a("span",[e._v(" 无")]):e._e(),e._v(" "),1==t.row.is_guarantee?a("span",[e._v("有")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDeleteCooperation(t.$index,t.row)}}},[e._v("移出合作名单")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]},Ne=a("VU/8")(xe,Se,!1,null,null,null).exports,Ie={name:"companyuser",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{userName:"",startDate:"",endDate:"",userType:"",userTypes:[{value:"",label:"用户类型"},{value:"0",label:"资产方个人"},{value:"1",label:"资产方企业"},{value:"2",label:"资金方个人"},{value:"3",label:"资金方企业"}],userCompany:"",userCompanys:[{value:"",label:"所有角色"}]},multipleSelection:[],form:{id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0"},rules:{userName:[{required:!0,message:"请输入名称号",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],password:[{max:20,message:"长度限制为 20  个字符",trigger:"blur"}],email:[{max:30,message:"长度限制为 40  个字符",trigger:"blur"}],mobile:[{max:18,message:"长度限制为 18  个字符",trigger:"blur"}],realName:[{max:18,message:"长度限制为 16  个字符",trigger:"blur"}]},dialogFormVisible:!1,dialogWidth:"400px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({userName:e.userName,startDate:e.startDate,endDate:e.endDate,userType:e.userType,userCompany:e.userCompany})),w(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},dateFormat:function(e,t){var a=e[t.property];return void 0==a?"":B(a).format("YYYY-MM-DD HH:mm:ss")},getRoleList:function(){var e=this;getRoleDrop({}).then(function(t){console.log("drop",t),"200"==t.code&&(e.criteria.userCompanys=t.data,e.criteria.userCompanys.splice(0,0,{text:"所有角色",value:""}))})},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleEdit:function(e,t){console.log("e:",e,t);var a=this.form;a.id=t.id,a.userType=t.userType.toString(),a.useStatus=t.useStatus.toString(),a.companyId=t.companyId,a.userName=t.userName,a.userPassword="",a.realName=t.realName,a.email=t.email,a.mobile=t.mobile,a.sex=t.sex.toString(),a.age=t.age,a.creditScore=t.creditScore,a.needAmount=t.needAmount,a.needCycle=t.needCycle,this.dialogFormVisible=!0},handleDelete:function(e,t){console.log("d:",e,t);var a=this;confirm("你确定要删除吗？")&&k({id:t.id}).then(function(e){console.log("del:",e),"200"==e.code?a.reload():alert(e.message)})},formSave:function(e){var t=this;t.$refs[e].validate(function(e){console.log("valid:",e),e&&(""==t.form.id?x(t.form).then(function(e){console.log("add:",e),"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}):S(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}))})}}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"用户名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.userName,callback:function(t){e.$set(e.criteria,"userName",t)},expression:"criteria.userName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"用户类型"},model:{value:e.criteria.userType,callback:function(t){e.$set(e.criteria,"userType",t)},expression:"criteria.userType"}},e._l(e.criteria.userTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:e.criteria.startDate,callback:function(t){e.$set(e.criteria,"startDate",t)},expression:"criteria.startDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:e.criteria.endDate,callback:function(t){e.$set(e.criteria,"endDate",t)},expression:"criteria.endDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"账号名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资产方个人")]):e._e(),e._v(" "),1==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资产方企业")]):e._e(),e._v(" "),2==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资金方个人")]):e._e(),e._v(" "),3==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资金方企业")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creditScore",label:"信用分数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needAmount",label:"资金需求"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needCycle",label:"需求周长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"rowStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.useStatus?a("span",{staticStyle:{color:"#E6A23C"}},[e._v("使用")]):e._e(),e._v(" "),1==t.row.useStatus?a("span",{staticStyle:{color:"green"}},[e._v("停止")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("停止")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户类型","label-width":e.formLabelWidth}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},[a("el-option",{attrs:{label:"资产方个人",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"资产方企业",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"资金方个人",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"资金方企业",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"用户状态"},model:{value:e.form.useStatus,callback:function(t){e.$set(e.form,"useStatus",t)},expression:"form.useStatus"}},[a("el-option",{attrs:{label:"使用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"停止",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"userName"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.userCode,expression:"form.userCode"}],attrs:{type:"hidden"},domProps:{value:e.form.userCode},on:{input:function(t){t.target.composing||e.$set(e.form,"userCode",t.target.value)}}}),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户密码","label-width":e.formLabelWidth,prop:"userPassword"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别年龄","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:10}},[a("el-select",{staticClass:"w8",attrs:{placeholder:"性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("/")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w8",attrs:{type:"number","auto-complete":"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("岁")])],1),e._v(" "),a("el-form-item",{attrs:{label:"信用分数","label-width":e.formLabelWidth,prop:"creditScore"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.creditScore,callback:function(t){e.$set(e.form,"creditScore",t)},expression:"form.creditScore"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"资金需求","label-width":e.formLabelWidth,prop:"needAmount"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needAmount,callback:function(t){e.$set(e.form,"needAmount",t)},expression:"form.needAmount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"需求周长","label-width":e.formLabelWidth,prop:"needCycle"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needCycle,callback:function(t){e.$set(e.form,"needCycle",t)},expression:"form.needCycle"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formSave("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},De=a("VU/8")(Ie,ze,!1,null,null,null).exports,Fe={name:"usermanage",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{userName:"",startDate:"",endDate:"",userType:"",userTypes:[{value:"",label:"用户类型"},{value:"0",label:"资产方个人"},{value:"1",label:"资产方企业"},{value:"2",label:"资金方个人"},{value:"3",label:"资金方企业"}],userCompany:"",userCompanys:[{value:"",label:"所有角色"}]},multipleSelection:[],form:{id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0"},rules:{userName:[{required:!0,message:"请输入名称号",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],password:[{max:20,message:"长度限制为 20  个字符",trigger:"blur"}],email:[{max:30,message:"长度限制为 40  个字符",trigger:"blur"}],mobile:[{max:18,message:"长度限制为 18  个字符",trigger:"blur"}],realName:[{max:18,message:"长度限制为 16  个字符",trigger:"blur"}],companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"},{max:40,message:"长度限制为 40  个字符",trigger:"blur"}]},dialogFormVisible:!1,dialogWidth:"400px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({userName:e.userName,startDate:e.startDate,endDate:e.endDate,userType:e.userType,userCompany:e.userCompany})),_(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},dateFormat:function(e,t){var a=e[t.property];return void 0==a?"":B(a).format("YYYY-MM-DD HH:mm:ss")},getRoleList:function(){var e=this;getRoleDrop({}).then(function(t){console.log("drop",t),"200"==t.code&&(e.criteria.userCompanys=t.data,e.criteria.userCompanys.splice(0,0,{text:"所有角色",value:""}))})},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleEdit:function(e,t){console.log("e:",e,t);var a=this.form;a.id=t.id,a.userType=t.userType.toString(),a.useStatus=t.useStatus.toString(),a.companyId=t.companyId,a.userName=t.userName,a.userPassword="",a.realName=t.realName,a.email=t.email,a.mobile=t.mobile,a.sex=t.sex.toString(),a.age=t.age,a.creditScore=t.creditScore,a.needAmount=t.needAmount,a.needCycle=t.needCycle,this.dialogFormVisible=!0},handleDelete:function(e,t){console.log("d:",e,t);var a=this;confirm("你确定要删除吗？")&&k({id:t.id}).then(function(e){console.log("del:",e),"200"==e.code?a.reload():alert(e.message)})},formSave:function(e){var t=this;t.$refs[e].validate(function(e){console.log("valid:",e),e&&(""==t.form.id?y(t.form).then(function(e){console.log("add:",e),"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}):C(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}))})}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"用户名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.userName,callback:function(t){e.$set(e.criteria,"userName",t)},expression:"criteria.userName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"用户类型"},model:{value:e.criteria.userType,callback:function(t){e.$set(e.criteria,"userType",t)},expression:"criteria.userType"}},e._l(e.criteria.userTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:e.criteria.startDate,callback:function(t){e.$set(e.criteria,"startDate",t)},expression:"criteria.startDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:e.criteria.endDate,callback:function(t){e.$set(e.criteria,"endDate",t)},expression:"criteria.endDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"账号名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资产方个人")]):e._e(),e._v(" "),1==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资产方企业")]):e._e(),e._v(" "),2==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资金方个人")]):e._e(),e._v(" "),3==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资金方企业")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creditScore",label:"信用分数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needAmount",label:"资金需求"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needCycle",label:"需求周长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"rowStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.useStatus?a("span",{staticStyle:{color:"#E6A23C"}},[e._v("使用")]):e._e(),e._v(" "),1==t.row.useStatus?a("span",{staticStyle:{color:"green"}},[e._v("停止")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("停止")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户类型","label-width":e.formLabelWidth}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},[a("el-option",{attrs:{label:"资产方个人",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"资产方企业",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"资金方个人",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"资金方企业",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"用户状态"},model:{value:e.form.useStatus,callback:function(t){e.$set(e.form,"useStatus",t)},expression:"form.useStatus"}},[a("el-option",{attrs:{label:"使用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"停止",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth,prop:"companyName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"userName"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.userCode,expression:"form.userCode"}],attrs:{type:"hidden"},domProps:{value:e.form.userCode},on:{input:function(t){t.target.composing||e.$set(e.form,"userCode",t.target.value)}}}),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户密码","label-width":e.formLabelWidth,prop:"userPassword"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别年龄","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:10}},[a("el-select",{staticClass:"w8",attrs:{placeholder:"性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("/")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w8",attrs:{type:"number","auto-complete":"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("岁")])],1),e._v(" "),a("el-form-item",{attrs:{label:"信用分数","label-width":e.formLabelWidth,prop:"creditScore"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.creditScore,callback:function(t){e.$set(e.form,"creditScore",t)},expression:"form.creditScore"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"资金需求","label-width":e.formLabelWidth,prop:"needAmount"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needAmount,callback:function(t){e.$set(e.form,"needAmount",t)},expression:"form.needAmount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"需求周长","label-width":e.formLabelWidth,prop:"needCycle"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needCycle,callback:function(t){e.$set(e.form,"needCycle",t)},expression:"form.needCycle"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formSave("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},Te=a("VU/8")(Fe,$e,!1,null,null,null).exports,Pe={name:"companylist",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{assetId:"",assetName:"",foundId:"",foundName:""},multipleSelection:[],dialogFormVisible:!1,dialogWidth:"500px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({assetId:e.assetId,assetName:e.assetName,foundId:e.foundId,foundName:e.foundName})),function(e){return v.post(h+"/p2p/s/black/white/list/getAssetFoundRelationList",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},exportAssetFoundRelation:function(e){var t={search:""};null!=e&&(t.search=M()({assetId:e.assetId,assetName:e.assetName,foundId:e.foundId,foundName:e.foundName}));var a=document.createElement("form");a.name="form",document.body.appendChild(a);for(var l in t)if(t.hasOwnProperty(l)){var r=document.createElement("input");r.tpye="hidden",r.name=l,r.value=t[l],a.appendChild(r)}a.method="post",a.action=h+"/p2p/s/black/white/list/exportAssetFoundRelation?access_token="+sessionStorage.access_token,a.submit(),document.body.removeChild(a)},reload:function(){this.loadData(this.criteria,this.currentPage,this.pagesize)},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){this.loadData(this.criteria,this.currentPage,this.pagesize)},handleExport:function(){this.exportAssetFoundRela(this.criteria)}}},Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"searchbar"},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资产方ID"},model:{value:e.criteria.assetId,callback:function(t){e.$set(e.criteria,"assetId",t)},expression:"criteria.assetId"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资产方简称"},model:{value:e.criteria.assetName,callback:function(t){e.$set(e.criteria,"assetName",t)},expression:"criteria.assetName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资金方ID"},model:{value:e.criteria.foundId,callback:function(t){e.$set(e.criteria,"foundId",t)},expression:"criteria.foundId"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"资金方简称"},model:{value:e.criteria.foundName,callback:function(t){e.$set(e.criteria,"foundName",t)},expression:"criteria.foundName"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"asset_id",label:"资产方ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"asset_name",label:"资产方简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"found_id",label:"资金方ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"found_name",label:"资金方简称"}})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]},je=a("VU/8")(Pe,Ae,!1,null,null,null).exports,Le={name:"companyuser",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{userName:"",startDate:"",endDate:"",userType:"",userTypes:[{value:"",label:"用户类型"},{value:"0",label:"资产方个人"},{value:"1",label:"资产方企业"},{value:"2",label:"资金方个人"},{value:"3",label:"资金方企业"}],userCompany:"",userCompanys:[{value:"",label:"所有角色"}]},roleData:[],multipleSelection:[],form:{id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0",roleId:"-1"},rules:{userName:[{required:!0,message:"请输入名称号",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],password:[{max:20,message:"长度限制为 20  个字符",trigger:"blur"}],email:[{max:30,message:"长度限制为 40  个字符",trigger:"blur"}],mobile:[{max:18,message:"长度限制为 18  个字符",trigger:"blur"}],realName:[{max:18,message:"长度限制为 16  个字符",trigger:"blur"}]},dialogFormVisible:!1,dialogWidth:"400px",formLabelWidth:"80px"}},mounted:function(){this.reload(),this.getRoleList()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({userName:e.userName,startDate:e.startDate,endDate:e.endDate,userType:e.userType,userCompany:e.userCompany})),w(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0",roleId:"-1"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},dateFormat:function(e,t){var a=e[t.property];return void 0==a?"":B(a).format("YYYY-MM-DD HH:mm:ss")},getRoleList:function(){var e=this;N({}).then(function(t){console.log("drop",t),"200"==t.code&&(e.roleData=t.data,e.roleData.splice(0,0,{text:"所有角色",value:"-1"}))})},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleEdit:function(e,t){console.log("e:",e,t);var a=this.form;a.id=t.id,a.userType=t.userType.toString(),a.useStatus=t.useStatus.toString(),a.companyId=t.companyId,a.userName=t.userName,a.userPassword="",a.realName=t.realName,a.email=t.email,a.mobile=t.mobile,a.sex=t.sex.toString(),a.age=t.age,a.creditScore=t.creditScore,a.needAmount=t.needAmount,a.needCycle=t.needCycle,a.roleId=null==t.roleId?"-1":t.roleId.toString(),this.dialogFormVisible=!0},handleDelete:function(e,t){console.log("d:",e,t);var a=this;confirm("你确定要删除吗？")&&k({id:t.id}).then(function(e){console.log("del:",e),"200"==e.code?a.reload():alert(e.message)})},formSave:function(e){var t=this;t.$refs[e].validate(function(e){console.log("valid:",e),e&&(""==t.form.id?x(t.form).then(function(e){console.log("add:",e),"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}):S(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}))})}}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"用户名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.userName,callback:function(t){e.$set(e.criteria,"userName",t)},expression:"criteria.userName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"用户类型"},model:{value:e.criteria.userType,callback:function(t){e.$set(e.criteria,"userType",t)},expression:"criteria.userType"}},e._l(e.criteria.userTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:e.criteria.startDate,callback:function(t){e.$set(e.criteria,"startDate",t)},expression:"criteria.startDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:e.criteria.endDate,callback:function(t){e.$set(e.criteria,"endDate",t)},expression:"criteria.endDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"账号名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资产方个人")]):e._e(),e._v(" "),1==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资产方企业")]):e._e(),e._v(" "),2==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资金方个人")]):e._e(),e._v(" "),3==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资金方企业")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creditScore",label:"信用分数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needAmount",label:"资金需求"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needCycle",label:"需求周长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"rowStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.useStatus?a("span",{staticStyle:{color:"#E6A23C"}},[e._v("使用")]):e._e(),e._v(" "),1==t.row.useStatus?a("span",{staticStyle:{color:"green"}},[e._v("停止")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("停止")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户类型","label-width":e.formLabelWidth}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},[a("el-option",{attrs:{label:"资产方个人",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"资产方企业",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"资金方个人",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"资金方企业",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户角色","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"用户类型"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleData,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"用户状态"},model:{value:e.form.useStatus,callback:function(t){e.$set(e.form,"useStatus",t)},expression:"form.useStatus"}},[a("el-option",{attrs:{label:"使用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"停止",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"userName"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.userCode,expression:"form.userCode"}],attrs:{type:"hidden"},domProps:{value:e.form.userCode},on:{input:function(t){t.target.composing||e.$set(e.form,"userCode",t.target.value)}}}),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户密码","label-width":e.formLabelWidth,prop:"userPassword"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别年龄","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:10}},[a("el-select",{staticClass:"w8",attrs:{placeholder:"性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("/")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w8",attrs:{type:"number","auto-complete":"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("岁")])],1),e._v(" "),a("el-form-item",{attrs:{label:"信用分数","label-width":e.formLabelWidth,prop:"creditScore"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.creditScore,callback:function(t){e.$set(e.form,"creditScore",t)},expression:"form.creditScore"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"资金需求","label-width":e.formLabelWidth,prop:"needAmount"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needAmount,callback:function(t){e.$set(e.form,"needAmount",t)},expression:"form.needAmount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"需求周长","label-width":e.formLabelWidth,prop:"needCycle"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needCycle,callback:function(t){e.$set(e.form,"needCycle",t)},expression:"form.needCycle"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formSave("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},Ve=a("VU/8")(Le,We,!1,null,null,null).exports,Ue={name:"rolemanage",data:function(){return{tableData:[],tableRoleData:[],treeData:[],defaultProps:{children:"children",label:"label"},roleCode:"",pagesize:10,currentPage:1,totalCount:100,criteria:{appName:"",userStatus:"",status:[{value:"",label:"所有状态"},{value:"0",label:"启用"},{value:"1",label:"关闭"}]},criteriaRole:{appName:"",appCode:"",routeType:"",routeTypes:[{value:"",label:"所有类型"},{value:"0",label:"根路由"},{value:"1",label:"普通路由"}],routeStatus:"",status:[{value:"",label:"所有状态"},{value:"0",label:"启用"},{value:"1",label:"关闭"}],routeMethod:"",routeMethods:[{value:"",label:"所有方式"},{value:"0",label:"菜单"},{value:"1",label:"页面"},{value:"2",label:"API"},{value:"3",label:"资源"}],appList:[]},multipleSelection:[],multipleRoleSelection:[],hasPermision:[],form:{id:"",roleName:"",userStatus:"0",roleFlag:""},rules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:25,message:"长度在 2 到 25 个字符",trigger:"blur"}],roleFlag:[{required:!0,message:"请输入角色标签",trigger:"blur"},{max:20,message:"长度限制为20 个字符",trigger:"blur"}]},dialogFormVisible:!1,dialogWidth:"400px",formLabelWidth:"80px",dialogPermisionVisible:!1,dialogRoleWidth:"600px",dialogRoleHeight:"600px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({roleName:e.roleName,userStatus:e.userStatus})),function(e){return v.post(h+"/p2p/s/role/list",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",roleName:"",userStatus:"0",roleFlag:""},this.dialogFormVisible=!1},close:function(){this.restForm()},roleClose:function(){this.roleCode="",this.treeData=[],this.dialogPermisionVisible=!1},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){this.loadData(this.criteria,this.currentPage,this.pagesize)},loadPermision:function(){var e=this;(function(e){return v.post(h+"/p2p/s/right/all",e,{headers:b}).then(function(e){return e.data})})({roleCode:e.roleCode}).then(function(t){e.treeData=e.menuToItems(t.data),e.showPermision()})},isNull:function(e){return void 0===e||null==e||""==e},menuToItems:function(e){if(this.isNull(e))return[];for(var t=function t(a,l){for(var r=[],o=0;o<l.length;o++){if(e[o].parentId==a){var s={};s.label=e[o].rightName,s.id=e[o].id,s.children=t(e[o].id,e),r.push(s)}}return r},a=[],l=0;l<e.length;l++){var r=e[l].parentId;if(this.isNull(r)){var o={};o.label=e[l].rightName,o.id=e[l].id,o.children=t(e[l].id,e),a.push(o)}}return a},showPermision:function(){var e=this;(function(e){return v.post(h+"/p2p/s/role/right/user-right",e,{headers:b}).then(function(e){return e.data})})({roleId:e.roleCode}).then(function(t){200==t.code?(console.log(t),e.$refs.tree.setCheckedKeys(t.data)):alert(t.message)})},rolePermision:function(e,t){this.roleCode=t.id,this.dialogPermisionVisible=!0,this.loadPermision()},savePermissions:function(){var e={roleId:this.roleCode,ids:""},t="";this.$refs.tree.getCheckedNodes().forEach(function(e){t+=e.id+","}),t.length>0&&(t=t.substring(0,t.length-1)),e.ids=t,function(e){return v.post(h+"/p2p/s/role/right/save-right",e,{headers:b}).then(function(e){return e.data})}(e).then(function(e){200==e.code&&alert("保存成功!")})},handleEdit:function(e,t){var a=this.form;a.id=t.id,a.parentId=t.parentId,a.roleName=t.roleName,a.userStatus=t.userStatus.toString(),a.description=t.description,this.dialogFormVisible=!0},handleDelete:function(e,t){var a=this;confirm("你确定要删除吗？")&&function(e){return v.post(h+"/p2p/s/role/delete",e,{headers:b}).then(function(e){return e.data})}({id:t.id}).then(function(e){"200"==e.code?a.reload():alert(e.message)})},formSave:function(e){var t=this;t.$refs[e].validate(function(e){e&&(""==t.form.id?function(e){return v.post(h+"/p2p/s/role/add",e,{headers:b}).then(function(e){return e.data})}(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}):function(e){return v.post(h+"/p2p/s/role/update",e,{headers:b}).then(function(e){return e.data})}(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}))})}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.roleName,callback:function(t){e.$set(e.criteria,"roleName",t)},expression:"criteria.roleName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"角色状态"},model:{value:e.criteria.userStatus,callback:function(t){e.$set(e.criteria,"userStatus",t)},expression:"criteria.userStatus"}},e._l(e.criteria.status,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("el-col",{attrs:{span:12}})],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentId",label:"父编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatus",label:"角色状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userStatus?a("span",{staticStyle:{color:"green"}},[e._v("启用")]):e._e(),e._v(" "),1==t.row.userStatus?a("span",{staticStyle:{color:"red"}},[e._v("关闭")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"角色描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){e.rolePermision(t.$index,t.row)}}},[e._v("权限")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"角色信息",visible:e.dialogFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth,prop:"roleName"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父编号","label-width":e.formLabelWidth,prop:"parentId"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择应用状态"},model:{value:e.form.userStatus,callback:function(t){e.$set(e.form,"userStatus",t)},expression:"form.userStatus"}},[a("el-option",{attrs:{label:"启用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"关闭",value:"1"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formSave("form")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"角色权限设置",visible:e.dialogPermisionVisible,"before-close":e.roleClose,width:e.dialogRoleWidth},on:{"update:visible":function(t){e.dialogPermisionVisible=t}}},[a("el-row",[a("el-col",{staticStyle:{"text-align":"right","margin-bottom":"16px"},attrs:{span:24}},[a("el-button",{attrs:{type:"success"},on:{click:e.savePermissions}},[e._v("保存权限")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:e.defaultProps}})],1)],1)],1)},staticRenderFns:[]},Ee=a("VU/8")(Ue,Re,!1,null,null,null).exports,Me={name:"rightManage",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{rightName:"",startDate:"",endDate:"",rightType:"",rightTypes:[{value:"",label:"所有类型"},{value:"0",label:"一级菜单"},{value:"1",label:"二级菜单"},{value:"2",label:"按钮"}],userStatus:"",status:[{value:"",label:"所有状态"},{value:"0",label:"使用"},{value:"1",label:"停止"}],visibleType:"0"},multipleSelection:[],form:{id:"",parentId:"",rightName:"",rightUrl:"",rightOrder:"",rightType:"0",userStatus:"0",description:"",visibleType:"0"},rules:{rightName:[{required:!0,message:"请输入名称",trigger:"blur"}]},dialogFormVisible:!1,dialogWidth:"400px",formLabelWidth:"80px"}},mounted:function(){this.reload()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({rightName:e.rightName,rightType:e.rightType,userStatus:e.userStatus,visibleType:e.visibleType,startDate:e.startDate,endDate:e.endDate})),function(e){return v.post(h+"/p2p/s/right/list",e,{headers:b}).then(function(e){return e.data})}(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",parentId:"",rightName:"",rightUrl:"",rightOrder:"",rightType:"0",userStatus:"0",description:"",visibleType:"0"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleEdit:function(e,t){console.log("e:",e,t);var a=this.form;a.id=t.id,a.parentId=t.parentId,a.rightName=t.rightName,a.rightUrl=t.rightUrl,a.rightOrder=t.rightOrder,a.rightType=t.rightType.toString(),a.userStatus=t.userStatus.toString(),a.visibleType=t.visibleType.toString(),a.description=t.description,this.dialogFormVisible=!0},handleDelete:function(e,t){console.log("d:",e,t);var a=this;confirm("你确定要删除吗？")&&function(e){return v.post(h+"/p2p/s/right/delete",e,{headers:b}).then(function(e){return e.data})}({id:t.id}).then(function(e){console.log("del:",e),"200"==e.code?a.reload():alert(e.message)})},formSave:function(e){var t=this;t.$refs[e].validate(function(e){console.log("valid:",e),e&&(""==t.form.id?function(e){return v.post(h+"/p2p/s/right/add",e,{headers:b}).then(function(e){return e.data})}(t.form).then(function(e){console.log("add:",e),"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}):function(e){return v.post(h+"/p2p/s/right/update",e,{headers:b}).then(function(e){return e.data})}(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}))})}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.righName,callback:function(t){e.$set(e.criteria,"righName",t)},expression:"criteria.righName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"权限类型"},model:{value:e.criteria.rightType,callback:function(t){e.$set(e.criteria,"rightType",t)},expression:"criteria.rightType"}},e._l(e.criteria.rightTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"权限状态"},model:{value:e.criteria.userStatus,callback:function(t){e.$set(e.criteria,"userStatus",t)},expression:"criteria.userStatus"}},e._l(e.criteria.status,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择可见类型"},model:{value:e.criteria.visibleType,callback:function(t){e.$set(e.criteria,"visibleType",t)},expression:"criteria.visibleType"}},[a("el-option",{attrs:{label:"可见类型",value:""}}),e._v(" "),a("el-option",{attrs:{label:"用户可见",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"管理员可见",value:"1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentId",label:"父编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rightOrder",label:"权限排序"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rightName",label:"权限名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rightUrl",label:"权限URL"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rightType",label:"权限类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.rightType?a("span",[e._v("一级菜单")]):e._e(),e._v(" "),1==t.row.rightType?a("span",[e._v("二级菜单")]):e._e(),e._v(" "),2==t.row.rightType?a("span",[e._v("按钮")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatus",label:"权限状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userStatus?a("span",{staticStyle:{color:"red"}},[e._v("使用")]):e._e(),e._v(" "),1==t.row.userStatus?a("span",{staticStyle:{color:"green"}},[e._v("停止")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"visibleType",label:"可见类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.visibleType?a("span",{staticStyle:{color:"green"}},[e._v("用户可见")]):e._e(),e._v(" "),1==t.row.visibleType?a("span",{staticStyle:{color:"red"}},[e._v("管理员可见")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"权限信息",visible:e.dialogFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"父编号","label-width":e.formLabelWidth,prop:"parentId"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限名称","label-width":e.formLabelWidth,prop:"rightName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.rightName,callback:function(t){e.$set(e.form,"rightName",t)},expression:"form.rightName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限地址","label-width":e.formLabelWidth,prop:"rightUrl"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.rightUrl,callback:function(t){e.$set(e.form,"rightUrl",t)},expression:"form.rightUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序","label-width":e.formLabelWidth,prop:"rightOrder"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.rightOrder,callback:function(t){e.$set(e.form,"rightOrder",t)},expression:"form.rightOrder"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.form.rightType,callback:function(t){e.$set(e.form,"rightType",t)},expression:"form.rightType"}},[a("el-option",{attrs:{label:"一级菜单",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"二级菜单",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"按钮",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"可见类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择可见类型"},model:{value:e.form.visibleType,callback:function(t){e.$set(e.form,"visibleType",t)},expression:"form.visibleType"}},[a("el-option",{attrs:{label:"用户可见",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"管理员可见",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"权限状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择权限状态"},model:{value:e.form.userStatus,callback:function(t){e.$set(e.form,"userStatus",t)},expression:"form.userStatus"}},[a("el-option",{attrs:{label:"使用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"停止",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"权限描述","label-width":e.formLabelWidth,prop:"description"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formSave("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},qe=a("VU/8")(Me,Oe,!1,null,null,null).exports,Be={name:"user",data:function(){return{tableData:[],pagesize:10,currentPage:1,totalCount:100,criteria:{userName:"",startDate:"",endDate:"",userType:"",userTypes:[{value:"",label:"用户类型"},{value:"0",label:"资产方个人"},{value:"1",label:"资产方企业"},{value:"2",label:"资金方个人"},{value:"3",label:"资金方企业"}],userCompany:"",userCompanys:[{value:"",label:"所有角色"}]},multipleSelection:[],form:{id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0",roleId:"-1"},rules:{userName:[{required:!0,message:"请输入名称号",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],password:[{max:20,message:"长度限制为 20  个字符",trigger:"blur"}],email:[{max:30,message:"长度限制为 40  个字符",trigger:"blur"}],mobile:[{max:18,message:"长度限制为 18  个字符",trigger:"blur"}],realName:[{max:18,message:"长度限制为 16  个字符",trigger:"blur"}],companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"},{max:40,message:"长度限制为 40  个字符",trigger:"blur"}]},dialogFormVisible:!1,dialogWidth:"400px",formLabelWidth:"80px"}},mounted:function(){this.reload(),this.getRoleList()},methods:{loadData:function(e,t,a){console.log("load");var l=this,r={page:t,size:a,search:""};null!=e&&(r.search=M()({userName:e.userName,startDate:e.startDate,endDate:e.endDate,userType:e.userType,userCompany:e.userCompany})),_(r).then(function(e){var t=e.data;l.pagesize=t.pageSize,l.totalCount=t.total,l.tableData=t.list})},reload:function(){this.loadData(null,this.currentPage,this.pagesize)},restForm:function(){this.form={id:"",userType:"0",useStatus:"0",companyName:"",companyId:"",userName:"",userPassword:"",realName:"",mobile:"",email:"",sex:"0",age:"18",creditScore:"0",needAmount:"0",needCycle:"0",roleId:"-1"},this.dialogFormVisible=!1},close:function(){this.restForm()},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleSelectionChange:function(e){this.multipleSelection=e},dateFormat:function(e,t){var a=e[t.property];return void 0==a?"":B(a).format("YYYY-MM-DD HH:mm:ss")},getRoleList:function(){var e=this;N({}).then(function(t){console.log("drop",t),"200"==t.code&&(e.roleData=t.data,e.roleData.splice(0,0,{text:"所有角色",value:"-1"}))})},search:function(){console.log("search"),this.loadData(this.criteria,this.currentPage,this.pagesize)},handleEdit:function(e,t){console.log("e:",e,t);var a=this.form;a.id=t.id,a.userType=t.userType.toString(),a.useStatus=t.useStatus.toString(),a.companyId=t.companyId,a.userName=t.userName,a.userPassword="",a.realName=t.realName,a.email=t.email,a.mobile=t.mobile,a.sex=t.sex.toString(),a.age=t.age,a.creditScore=t.creditScore,a.needAmount=t.needAmount,a.needCycle=t.needCycle,a.roleId=null==t.roleId?"-1":t.roleId.toString(),a.companyName=t.companyName,this.dialogFormVisible=!0},handleDelete:function(e,t){console.log("d:",e,t);var a=this;confirm("你确定要暂停吗？")&&k({id:t.id}).then(function(e){console.log("del:",e),"200"==e.code?a.reload():alert(e.message)})},handleExport:function(e){console.log("type",e);this.export(this.criteria,e)},export:function(e,t){var a={type:t},l=document.createElement("form");l.name="form",document.body.appendChild(l);for(var r in a)if(a.hasOwnProperty(r)){var o=document.createElement("input");o.tpye="hidden",o.name=r,o.value=a[r],l.appendChild(o)}l.method="post",l.action=h+"/p2p/s/company/exportCompanyInfoModel?access_token="+sessionStorage.access_token,l.submit(),document.body.removeChild(l)},formSave:function(e){var t=this;t.$refs[e].validate(function(e){console.log("valid:",e),e&&(""==t.form.id?y(t.form).then(function(e){console.log("add:",e),"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}):C(t.form).then(function(e){"200"==e.code?(t.reload(),t.restForm()):alert(e.message)}))})}}},He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conwarp"},[a("div",{staticClass:"grid"},[a("div",{staticClass:"toolbar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleExport(1)}}},[e._v("导出合作伙伴模板")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleExport(2)}}},[e._v("导出资产公司信息模板")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleExport(3)}}},[e._v("导出资金公司信息模板")])],1),e._v(" "),a("div",{staticClass:"searchbar"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"w18",attrs:{placeholder:"用户名称","prefix-icon":"el-icon-search"},model:{value:e.criteria.userName,callback:function(t){e.$set(e.criteria,"userName",t)},expression:"criteria.userName"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"用户类型"},model:{value:e.criteria.userType,callback:function(t){e.$set(e.criteria,"userType",t)},expression:"criteria.userType"}},e._l(e.criteria.userTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:e.criteria.startDate,callback:function(t){e.$set(e.criteria,"startDate",t)},expression:"criteria.startDate"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:e.criteria.endDate,callback:function(t){e.$set(e.criteria,"endDate",t)},expression:"criteria.endDate"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"gmain"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyId",label:"公司编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyName",label:"公司名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"账号名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资产方个人")]):e._e(),e._v(" "),1==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资产方企业")]):e._e(),e._v(" "),2==t.row.userType?a("span",{staticStyle:{color:"green"}},[e._v("资金方个人")]):e._e(),e._v(" "),3==t.row.userType?a("span",{staticStyle:{color:"red"}},[e._v("资金方企业")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creditScore",label:"信用分数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needAmount",label:"资金需求"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needCycle",label:"需求周长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"rowStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.useStatus?a("span",{staticStyle:{color:"#E6A23C"}},[e._v("使用")]):e._e(),e._v(" "),1==t.row.useStatus?a("span",{staticStyle:{color:"green"}},[e._v("停止")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("停止")])]}}])})],1),e._v(" "),a("div",{staticClass:"gpage",attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,"before-close":e.close,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户类型","label-width":e.formLabelWidth}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择应用类型"},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},[a("el-option",{attrs:{label:"资产方个人",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"资产方企业",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"资金方个人",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"资金方企业",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户角色","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"用户类型"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleData,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"用户状态"},model:{value:e.form.useStatus,callback:function(t){e.$set(e.form,"useStatus",t)},expression:"form.useStatus"}},[a("el-option",{attrs:{label:"使用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"停止",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth,prop:"companyName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"userName"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{type:"hidden"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.userCode,expression:"form.userCode"}],attrs:{type:"hidden"},domProps:{value:e.form.userCode},on:{input:function(t){t.target.composing||e.$set(e.form,"userCode",t.target.value)}}}),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户密码","label-width":e.formLabelWidth,prop:"userPassword"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.userPassword,callback:function(t){e.$set(e.form,"userPassword",t)},expression:"form.userPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名","label-width":e.formLabelWidth,prop:"realName"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth,prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件","label-width":e.formLabelWidth,prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别年龄","label-width":e.formLabelWidth}},[a("el-col",{attrs:{span:10}},[a("el-select",{staticClass:"w8",attrs:{placeholder:"性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("/")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w8",attrs:{type:"number","auto-complete":"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v("岁")])],1),e._v(" "),a("el-form-item",{attrs:{label:"信用分数","label-width":e.formLabelWidth,prop:"creditScore"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.creditScore,callback:function(t){e.$set(e.form,"creditScore",t)},expression:"form.creditScore"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"资金需求","label-width":e.formLabelWidth,prop:"needAmount"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needAmount,callback:function(t){e.$set(e.form,"needAmount",t)},expression:"form.needAmount"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"需求周长","label-width":e.formLabelWidth,prop:"needCycle"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.needCycle,callback:function(t){e.$set(e.form,"needCycle",t)},expression:"form.needCycle"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formSave("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},Ye=a("VU/8")(Be,He,!1,null,null,null).exports;l.default.use(s.a);var Xe=new s.a({routes:[{path:"/",name:"HelloWorld",component:$},{path:"/Account/Login",name:"Login",component:$},{path:"/home",name:"home",component:R,children:[{path:"p2p/company/companylist",name:"companylist",component:X},{path:"p2p/company/companyaudit",name:"companyaudit",component:J},{path:"p2p/asset/assetcompany",name:"assetcompany",component:ee},{path:"p2p/found/foundcompany",name:"foundcompany",component:ce},{path:"p2p/found/foundcompanypool",name:"foundcompanypool",component:me},{path:"p2p/found/myfoundcompany",name:"myfoundcompany",component:ve},{path:"p2p/asset/assetcompanypool",name:"assetcompanypool",component:ge},{path:"p2p/asset/assetitempool",name:"assetitempool",component:we},{path:"p2p/asset/myassetcompany",name:"myassetcompanyp",component:Ne},{path:"p2p/company/companyuser",name:"companyuser",component:De},{path:"p2p/company/usermanage",name:"usermanage",component:Te},{path:"p2p/report/companyrelation",name:"companyrelation",component:je},{path:"p2p/user/employee",name:"employee",component:Ve},{path:"p2p/user/role",name:"role",component:Ee},{path:"p2p/user/right",name:"right",component:qe},{path:"p2p/user/user",name:"user",component:Ye}]}]}),Ke=a("zL8q"),Ge=a.n(Ke),Je=(a("tvR6"),a("erWL"),{tokenSession:{},currentMenu:""}),Qe=a("VU/8")(Je,null,!1,null,null,null).exports,Ze={state:{appcode:"app_com_006",username:"",tokeninfo:{access_token:"",token_type:"",refresh_token:"",expires_in:"",scope:""},menus:[]},mutaions:{SET_USERID:function(e,t){e.code=code},SET_TOKENINFO:function(e,t){e.tokeninfo=t},SET_MENUS:function(e,t){e.menus=t}},actions:{GetUserInfo:function(e){e.commit;var t=e.state;(void 0)({appcode:t.appcode,access_token:t.access_token}).then(function(e){console.log("userinfo-response:",e)})}}},et={tokeninfo:function(e){return e.userinfo.tokeninfo}};l.default.use(T.a);var tt=new T.a.Store({modules:{userinfo:Ze},getters:et});l.default.use(Ge.a,{size:"small"}),l.default.config.productionTip=!1,l.default.prototype.GLOBAL=Qe,Xe.beforeEach(function(e,t,a){console.log("path:"+e.path);null==sessionStorage.access_token&&"/"!=e.path?a("/"):a()}),new l.default({el:"#app",router:Xe,store:tt,template:"<App/>",components:{App:o}})},TwAi:function(e,t){},Y4ti:function(e,t){},chPc:function(e,t,a){e.exports=a.p+"static/img/2.3392833.png"},d22g:function(e,t){},e8dt:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABICAMAAAD/Eoi4AAAA4VBMVEUAAAAcgdn///+O3/+K3P621vPx9/z9/v5Dl9/6/P6v0/FZo+Mmh9tOqulsreYgg9ojhdr1+v1Sn+J9tulBoOUqiNu+2/R3s+g+lN6B1PpMnOHQ5fdtxPQzjt0situz1fKUw+1xsOft9fzc7PlSruuF2PzW6PjK4vaoz/BjvPBfuO+ax+6IvetdpeQukN/4+/1zyvbC3fWEu+poq+ZGmeA5kd4oi93m8fq72fOjzPCOwOxiqOVVoeLo8/vi7/p4zvhswvPG3/VnwPJZtO2Bueo7m+NPneGy1PJGpOc3mOIxk+CHUeQrAAAAAXRSTlMAQObYZgAABCFJREFUeNrt2WlzmlAYhuE+DwFEqeACGI3WJS6JGuOSxmj2ten//0HlCGbB1EnKTJ0Qri/KvOfLPZwDzvgNX8u3ODji4uCoi4OjLg6Oujg46uLgqIuDoy4Ojro4OOri4KiLg6PuX4LN8VR5Uk8W8Zn8S3BV5Ss9fCIfD85amAyfk1V5gn4Cn8ZHg40u6yMTlexSBQmbSgqfxQeDy226zhyYpgHB3+Cag0/ig8E9hUILx3SpqpY5mlFoV7CU6LSUTEPOIqTrHeFyf/cAC8bu4VbzMB+crRM+GHquQfJ2wqVuJUO2+jDh69F3gnC2pKU9uH5eeBfXwdka4YPTKSA11cozLil6tzGGOUrDMyY746NyakjmEIKI2svn87923dBdAJdSM68/7kvS9+BsjdDBZqmVNlDGaa3mOE7OdVvQDcM5k+FL0oZgtNlCKFuLtEXqNnAnSXdwXUiHwdkaoYNxVOfxrY5Xxg2eW/CV2MHCXKlXcFrLQkjXjmDVaij2Or0UPJVat5ObwOWuMuYnM/MvwXlJ0rHrlbmfzZXZGqGDcaqSNkoDTdNUVSXV8pjUiljqvnpHyUxC0JhGgsypdCUXZffec2/mrZJJVtYF729fQ7iRLv5vMEYkiw6XbLRendbCGdnOld8OZjvdr2p8EFtlwKvxWB5wJlZleDZsWH8J3peaWNKb0n5wtlb4YDyQtq7QN5+TMl4oDMV9b+cqbwS3TLG9qU6AKY/hcqhYkP27Hgy+OTg4+H23J7mNPnNHaurB2Xrhg/UWWezSUzdK/gF+djQqqeSguhpchXDsfurkCC5doQOZdX3da+nQgOfgQtrKr8zWCx8sHlx2QeVCNSUO8IpyrkQmV4JTEGwmUSQbJUFhFzKHEFI/nvREVHPbdbiXh+/XlrT9CFdgtl74YPRVFm0uFK54ixesyQSeKlkMBpchJN2+PjnIeB6eVjl8Yi/P6TPjWpIu9efz/QFhg9Gj3afQvucUL4iqLBYMhSPI3vk2VS/4HsIVOyiQ85VneTn1ZLISpR96PzI2EgyZxXO6avZxBa/Ul+9hM0MHJ6zD1eOLM2xleAtjwB9wmZ1kygsOCkbtSVt32Fiw3rBHJJWsdh+YdMmZBVT6Q6oF5EQpioofnCkCRpJKRez4QcK9OKFWflfwoyTd/PRsIhgFJZUhT+QRAowrUjs+pysHWAp5VmLD39Ltgf1wTtUdwGxQG04zpIN3Bd9ITzYSjPm0Q9amWKH3zihc9eE6ddNV29K84MKJRtbn3jrxnY0+3he8s+lgzBy2qhW8pVxMJSx4jMKp/1UEw8weYclInJbxv4QPhtPu3uPd/OCNCxFs1RJ4vwgEf8wXDLbSaR0bF//VEnVxcNTFwVEXB0ddHBx1cXDUxcFRFwdHXRwcdXFw1MXBUffty/kDItWbyGeWPR0AAAAASUVORK5CYII="},erWL:function(e,t){},iMbc:function(e,t){},kEko:function(e,t){},tvR6:function(e,t){},uslO:function(e,t,a){function l(e){return a(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};l.keys=function(){return Object.keys(o)},l.resolve=r,e.exports=l,l.id="uslO"},yc1k:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.199becc83b26282eb85d.js.map